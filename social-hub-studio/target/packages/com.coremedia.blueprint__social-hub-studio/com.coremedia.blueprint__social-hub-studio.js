Ext.define("com.coremedia.blueprint.social.beans.ComposerModel",function(ComposerModel){return{}});Ext.define("com.coremedia.blueprint.social.beans.ComposerModelImpl",function(ComposerModelImpl){function ComposerModelImpl$(path){this.super$gEeE(path)}function get(property){if(property==="type")return com.coremedia.ui.data.beanFactory.createLocalBean({"name":"ComposerModel"});return com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.get.call(this,property)}function isSubObject(value,propertyPath){return propertyPath===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_PROPERTIES}
function createSubBean(propertyPathPrefix){return new com.coremedia.blueprint.social.beans.ComposerModelPropertiesImpl(this,propertyPathPrefix)}function getProperties(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_PROPERTIES)}function getAttachments(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_ATTACHMENTS)}function getAdapterType(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_ADAPTER_TYPE)}
function getPublicationDate(){return this.getProperties().get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_PUBLICATION_DATE)}function getMessageText(){if(this.getProperties()===undefined)return undefined;return this.getProperties().get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_MESSAGE_TEXT)}function getTitle(){if(this.getProperties()===undefined)return undefined;return this.getProperties().get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_MESSAGE_TITLE)}
function send(callback){var method=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath(),"POST");method.request({},function(response){if(callback)callback(null)},function(response){if(callback)callback(response.getError())})}function reset(callback){var method=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath(),"DELETE");method.request({},function(response){var result=response.response.responseText;if(callback)callback(result)},function(response){if(callback)callback(response.getError())})}
return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.blueprint.social.beans.ComposerModel"],metadata:{"":["RestResource",["uriTemplate","socialhub/composermodel/{id:[^/]+}/{adapterId:[^/]+}"]]},constructor:ComposerModelImpl$,super$gEeE:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},get:get,isSubObject:isSubObject,createSubBean:createSubBean,getProperties:getProperties,getAttachments:getAttachments,getAdapterType:getAdapterType,
getPublicationDate:getPublicationDate,getMessageText:getMessageText,getTitle:getTitle,send:send,reset:reset,requires:["com.coremedia.blueprint.social.beans.ComposerModel","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.blueprint.social.beans.ComposerModelPropertiesImpl","com.coremedia.blueprint.social.beans.SocialHubPropertyNames"]}});Ext.define("com.coremedia.blueprint.social.beans.ComposerModelProperties",function(ComposerModelProperties){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.blueprint.social.beans.ComposerModelPropertiesImpl",function(ComposerModelPropertiesImpl){function ComposerModelPropertiesImpl$(parent,basePath){this.super$oOXX(parent,basePath)}function getComposerModel(){return AS3.as(this.getParentBean(),com.coremedia.blueprint.social.beans.ComposerModel)}return{extend:"com.coremedia.ui.data.impl.SubBean",mixins:["com.coremedia.blueprint.social.beans.ComposerModelProperties"],constructor:ComposerModelPropertiesImpl$,super$oOXX:function(){com.coremedia.ui.data.impl.SubBean.prototype.constructor.apply(this,
arguments)},getComposerModel:getComposerModel,requires:["com.coremedia.blueprint.social.beans.ComposerModelProperties","com.coremedia.ui.data.impl.SubBean"],uses:["com.coremedia.blueprint.social.beans.ComposerModel"]}});Ext.define("com.coremedia.blueprint.social.beans.MediaItem",function(MediaItem){var THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static;function THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static_(){THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static=com.coremedia.ui.util.ThumbnailImage.BLOCK.createModifier("link-list")}function fromObject$static(values){if(AS3.is(values,com.coremedia.cap.content.Content))return MediaItem.fromContent(AS3.as(values,com.coremedia.cap.content.Content));var item=new MediaItem;item.values$2ZHy=values;
return item}function fromContent$static(content){var item=new MediaItem;item.values$2ZHy={};item.values$2ZHy.content=content;if(content.isLoaded()){item.values$2ZHy.url=com.coremedia.cms.editor.sdk.editorContext.getThumbnailImage(content,com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer.DEFAULT_CROPPING);var mediaType=com.coremedia.blueprint.social.socialHubService.getMediaType(content);item.values$2ZHy.type=mediaType;item.stateLoaded$2ZHy=true;if(mediaType===undefined)item.stateLoaded$2ZHy=
false}return item}function isLoaded(){return this.stateLoaded$2ZHy}function load(callback){var this$=this;if(this.values$2ZHy.content)this.values$2ZHy.content.load(function(loadedContent){this$.values$2ZHy.type=com.coremedia.blueprint.social.socialHubService.getMediaType(loadedContent);this$.values$2ZHy.url=com.coremedia.cms.editor.sdk.editorContext.getThumbnailUri(loadedContent);this$.stateLoaded$2ZHy=true;if(callback)callback(this)});else if(callback){this.stateLoaded$2ZHy=true;callback(this)}}
function render(){var thumbnailImage=com.coremedia.cms.editor.sdk.editorContext.getThumbnailImage(this.values$2ZHy.content,com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer.DEFAULT_CROPPING);return thumbnailImage.render(THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static.getCSSClass())}function getUrl(){return this.values$2ZHy.url}function getType(){return this.values$2ZHy.type}function getText(){return this.values$2ZHy.text}function getId(){return this.values$2ZHy.id}function MediaItem$(){}return{stateLoaded$2ZHy:false,
values$2ZHy:null,isLoaded:isLoaded,load:load,render:render,getUrl:getUrl,getType:getType,getText:getText,getId:getId,constructor:MediaItem$,statics:{THUMBNAIL_IMAGE_MODIFIER_LINK_LIST:undefined,TYPE_VIDEO:"video",TYPE_IMAGE:"image",fromObject:fromObject$static,fromContent:fromContent$static,__initStatics__:function(){THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static_()}},requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer",
"com.coremedia.ui.util.ThumbnailImage"],uses:["com.coremedia.blueprint.social.socialHubService"]}});Ext.define("com.coremedia.blueprint.social.beans.Message",function(Message){return{}});Ext.define("com.coremedia.blueprint.social.beans.MessageContainerDescriptor",function(MessageContainerDescriptor){function MessageContainerDescriptor$(data){this.data$QsA4=data}function getValue(){return this.data$QsA4.value}function getType(){return this.data$QsA4.type}function showLabel(){return this.data$QsA4.showLabel}function getScripts(){return this.data$QsA4[com.coremedia.blueprint.social.beans.SocialHubPropertyNames.DESCRIPTOR_SCRIPTS]||[]}function getScriplets(){return this.data$QsA4[com.coremedia.blueprint.social.beans.SocialHubPropertyNames.DESCRIPTOR_SCRIPLETS]||
[]}function isExcluded(){return this.data$QsA4[com.coremedia.blueprint.social.beans.SocialHubPropertyNames.DESCRIPTOR_EXCLUDED]}function getPropertyName(){return this.data$QsA4[com.coremedia.blueprint.social.beans.SocialHubPropertyNames.DESCRIPTOR_PROPERTY_NAME]}return{data$QsA4:null,constructor:MessageContainerDescriptor$,getValue:getValue,getType:getType,showLabel:showLabel,getScripts:getScripts,getScriplets:getScriplets,isExcluded:isExcluded,getPropertyName:getPropertyName,uses:["com.coremedia.blueprint.social.beans.SocialHubPropertyNames"]}});Ext.define("com.coremedia.blueprint.social.beans.MessageImpl",function(MessageImpl){function MessageImpl$(path){this.super$Rfpi(path)}function getProperties(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PROPERTIES)}function isSubObject(value,propertyPath){return propertyPath===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PROPERTIES}function createSubBean(propertyPathPrefix){return new com.coremedia.blueprint.social.beans.MessagePropertiesImpl(this,
propertyPathPrefix)}function getMessageId(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_ID)}function getAdapter(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_ADAPTER)}function getMessageState(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_STATE)}function getPublicationDate(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PUBLICATION_DATE)}function getUrl(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_URL)}
function getMessageContainerDescriptors(){var dscrs=this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_CONTAINER_DESCRIPTORS);if(!this.descriptors$Rfpi){this.descriptors$Rfpi=[];if(dscrs)for(var $1=0;$1<dscrs.length;++$1){var descriptor=dscrs[$1];var d=new com.coremedia.blueprint.social.beans.MessageContainerDescriptor(descriptor);this.descriptors$Rfpi.push(d)}}return this.descriptors$Rfpi}function deleteFromScheduler(callback){var deleteMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath(),
"DELETE");deleteMethod.request({},function(response){callback.call(null)})}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.blueprint.social.beans.Message"],metadata:{"":["RestResource",["uriTemplate","socialhub/adapter/{adapterId:[^/]+}/message/{id:[^/]+}"]]},descriptors$Rfpi:null,constructor:MessageImpl$,super$Rfpi:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getProperties:getProperties,isSubObject:isSubObject,
createSubBean:createSubBean,getMessageId:getMessageId,getAdapter:getAdapter,getMessageState:getMessageState,getPublicationDate:getPublicationDate,getUrl:getUrl,getMessageContainerDescriptors:getMessageContainerDescriptors,deleteFromScheduler:deleteFromScheduler,requires:["com.coremedia.blueprint.social.beans.Message","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.blueprint.social.beans.MessageContainerDescriptor","com.coremedia.blueprint.social.beans.MessagePropertiesImpl",
"com.coremedia.blueprint.social.beans.SocialHubPropertyNames"]}});Ext.define("com.coremedia.blueprint.social.beans.MessageProperties",function(MessageProperties){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.blueprint.social.beans.MessagePropertiesImpl",function(MessagePropertiesImpl){function MessagePropertiesImpl$(parent,basePath){this.super$wxs$(parent,basePath)}function getMessage(){return AS3.as(this.getParentBean(),com.coremedia.blueprint.social.beans.Message)}return{extend:"com.coremedia.ui.data.impl.SubBean",mixins:["com.coremedia.blueprint.social.beans.MessageProperties"],constructor:MessagePropertiesImpl$,super$wxs$:function(){com.coremedia.ui.data.impl.SubBean.prototype.constructor.apply(this,
arguments)},getMessage:getMessage,requires:["com.coremedia.blueprint.social.beans.MessageProperties","com.coremedia.ui.data.impl.SubBean"],uses:["com.coremedia.blueprint.social.beans.Message"]}});Ext.define("com.coremedia.blueprint.social.beans.MessageProperty",function(MessageProperty){function MessageProperty$(json){this.data$6DAX=json}function getPropertyType(){return this.data$6DAX.type}function getName(){return this.data$6DAX.name}function getOptions(){return this.data$6DAX.options}function getDefaultOption(){return this.data$6DAX.defaultOption}function getDisplayName(){var displayName=this.data$6DAX.displayName;if(!displayName){displayName=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub",
"message_property_"+this.getName().toLowerCase());if(!displayName)displayName=camelizeWithWhitespace$static(this.getName())}return displayName}function getEmptyText(){var emptyText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub","message_property_"+this.getName().toLowerCase()+"_emptyText");if(!emptyText)emptyText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub","message_property_emptyText");return emptyText}
function getMaxLength(){return this.data$6DAX.maxLength}function isRequired(){return this.data$6DAX.required}function camelizeWithWhitespace$static(str){return str.replace(/(?:^\w|[A-Z]|\b\w)/g,function(letter,index){return letter.toUpperCase()}).replace(/\s+/g," ")}return{data$6DAX:null,constructor:MessageProperty$,getPropertyType:getPropertyType,getName:getName,getOptions:getOptions,getDefaultOption:getDefaultOption,getDisplayName:getDisplayName,getEmptyText:getEmptyText,getMaxLength:getMaxLength,
isRequired:isRequired,statics:{TYPE_TEXT:"TEXT",TYPE_TEXTAREA:"TEXTAREA",TYPE_DATE:"DATE",TYPE_ASSETLIST:"ASSETLIST",TYPE_CHOICE:"CHOICE"},requires:["mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.social.beans.SocialHubAdapter",function(SocialHubAdapter){return{}});Ext.define("com.coremedia.blueprint.social.beans.SocialHubAdapterImpl",function(SocialHubAdapterImpl){function SocialHubAdapterImpl$(path){this.super$yceY(path)}function isReadOnly(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_READ_ONLY)}function isDirectPublication(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SCHEDULING_SUPPORTED)}function isNativeHistory(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_NATIVE_HISTORY)}
function isSchedulingSupported(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SCHEDULING_SUPPORTED)}function getMessageProperties(){if(!this.messageProperties$yceY){this.messageProperties$yceY=[];var json=this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_MESSAGE_PROPERTIES);for(var $1=0;$1<json.length;++$1){var typeDef=json[$1];var propType=new com.coremedia.blueprint.social.beans.MessageProperty(typeDef);this.messageProperties$yceY.push(propType)}}return this.messageProperties$yceY}
function getAdapterId(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_ID)}function getDisplayName(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_DISPLAY_NAME)}function getType(){var type=this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_TYPE);if(type.indexOf("-")!==-1)return type.substr(type.indexOf("-")+1);return type}function getSentMessages(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SENT_MESSAGES)}
function getScheduledMessages(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SCHEDULED_MESSAGES)}function setColor(color){var saveStateExpression=com.coremedia.ui.data.ValueExpressionFactory.create("socialHub."+this.getAdapterId()+".color",com.coremedia.cms.editor.sdk.editorContext.getPreferences());saveStateExpression.setValue(color)}function getColor(){var saveStateExpression=com.coremedia.ui.data.ValueExpressionFactory.create("socialHub."+this.getAdapterId()+
".color",com.coremedia.cms.editor.sdk.editorContext.getPreferences());var color=saveStateExpression.getValue();if(!color){color=com.coremedia.blueprint.social.channels.Colors.getColor();this.setColor(color)}return color}function getHoverColor(){return com.coremedia.blueprint.social.channels.Colors.getHoverColor(this.getColor())}function getPressedColor(){return com.coremedia.blueprint.social.channels.Colors.getPressedColor(this.getColor())}function getPropertyKey(property){return this.getType().toLowerCase()+
"_"+this.getAdapterId()+"_"+property}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.blueprint.social.beans.SocialHubAdapter"],metadata:{"":["RestResource",["uriTemplate","socialhub/adapter/{id:[^/]+}"]]},messageProperties$yceY:null,constructor:SocialHubAdapterImpl$,super$yceY:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},isReadOnly:isReadOnly,isDirectPublication:isDirectPublication,isNativeHistory:isNativeHistory,
isSchedulingSupported:isSchedulingSupported,getMessageProperties:getMessageProperties,getAdapterId:getAdapterId,getDisplayName:getDisplayName,getType:getType,getSentMessages:getSentMessages,getScheduledMessages:getScheduledMessages,setColor:setColor,getColor:getColor,getHoverColor:getHoverColor,getPressedColor:getPressedColor,getPropertyKey:getPropertyKey,requires:["com.coremedia.blueprint.social.beans.SocialHubAdapter","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.impl.RemoteBeanImpl"],uses:["com.coremedia.blueprint.social.beans.MessageProperty","com.coremedia.blueprint.social.beans.SocialHubPropertyNames","com.coremedia.blueprint.social.channels.Colors"]}});Ext.define("com.coremedia.blueprint.social.beans.SocialHubAdapters",function(SocialHubAdapters){return{}});Ext.define("com.coremedia.blueprint.social.beans.SocialHubAdaptersImpl",function(SocialHubAdaptersImpl){function SocialHubAdaptersImpl$(path){this.super$casH(path)}function getAdapters(){return this.get(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_LIST)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.blueprint.social.beans.SocialHubAdapters"],metadata:{"":["RestResource",["uriTemplate","socialhub/adapters/{id:[^/]+}"]]},constructor:SocialHubAdaptersImpl$,
super$casH:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getAdapters:getAdapters,requires:["com.coremedia.blueprint.social.beans.SocialHubAdapters","com.coremedia.ui.data.impl.RemoteBeanImpl"],uses:["com.coremedia.blueprint.social.beans.SocialHubPropertyNames"]}});Ext.define("com.coremedia.blueprint.social.beans.SocialHubPropertyNames",function(SocialHubPropertyNames){function SocialHubPropertyNames$(){}return{constructor:SocialHubPropertyNames$,statics:{STATE_SENT:"SENT",STATE_SCHEDULED:"SCHEDULED",SEND_FAILED_PERMANENTLY:"SEND_FAILED_PERMANENTLY",ADAPTER_LIST:"adapters",ADAPTER_READ_ONLY:"readOnly",ADAPTER_SCHEDULING_SUPPORTED:"schedulingSupported",ADAPTER_NATIVE_HISTORY:"nativeHistory",ADAPTER_ID:"adapterId",ADAPTER_DISPLAY_NAME:"displayName",ADAPTER_TYPE:"type",
ADAPTER_MESSAGE_PROPERTIES:"messageProperties",ADAPTER_SENT_MESSAGES:"sentMessages",ADAPTER_SCHEDULED_MESSAGES:"scheduledMessages",MESSAGE_ID:"id",MESSAGE_CONTAINER_DESCRIPTORS:"messageContainerDescriptors",MESSAGE_PROPERTIES:"properties",MESSAGE_ADAPTER:"adapter",MESSAGE_SHARE_COUNT:"shareCount",MESSAGE_LIKE_COUNT:"likeCount",MESSAGE_DISLIKE_COUNT:"dislikeCount",MESSAGE_COMMENT_COUNT:"commentCount",MESSAGE_VIEW_COUNT:"viewCount",MESSAGE_STATE:"state",MESSAGE_URL:"url",MESSAGE_PUBLICATION_DATE:"publicationDate",
MESSAGE_SCHEDULED_SEND_TIME:"scheduledSendTime",DESCRIPTOR_SCRIPTS:"scripts",DESCRIPTOR_SCRIPLETS:"scriplets",DESCRIPTOR_EXCLUDED:"excluded",DESCRIPTOR_HTML:"html",DESCRIPTOR_PROPERTY_NAME:"propertyName",COMPOSER_PROPERTIES:"properties",COMPOSER_ATTACHMENTS:"attachments",COMPOSER_PUBLICATION_DATE:"publicationDate",COMPOSER_ADAPTER_TYPE:"adapterType",COMPOSER_MESSAGE_TEXT:"messageText",COMPOSER_MESSAGE_TITLE:"title"}}});Ext.define("com.coremedia.blueprint.social.beans.SocialHubServices",function(SocialHubServices){var SERVICES_URI$static="socialhub/services/";var SHORTEN_URL_URI$static;function SHORTEN_URL_URI$static_(){SHORTEN_URL_URI$static=SERVICES_URI$static+"shortenUrl"}function shortenUrl$static(url,callback){var method=new com.coremedia.ui.data.impl.RemoteServiceMethod(SHORTEN_URL_URI$static,"POST");method.request({"url":url},function(response){var result=response.response.responseText;callback(result)})}
function SocialHubServices$(){}return{constructor:SocialHubServices$,statics:{SHORTEN_URL_URI:undefined,shortenUrl:shortenUrl$static,__initStatics__:function(){SHORTEN_URL_URI$static_()}},requires:["com.coremedia.ui.data.impl.RemoteServiceMethod"]}});Ext.define("com.coremedia.blueprint.social.channels.AdapterDropAreaTarget",function(AdapterDropAreaTarget){function AdapterDropAreaTarget$(dropArea,channelContainer,handleEnter,handlerOver,handleOut,handleDrop){switch(Math.max(arguments.length,2)){case 2:handleEnter=null;case 3:handlerOver=null;case 4:handleOut=null;case 5:handleDrop=null}this.super$5ezE(dropArea.getEl(),AS3.cast(Ext.dd.DropTarget,{ddGroup:["ContentDD","ContentLinkDD"]}));this.addToGroup("ContentDD");this.addToGroup("ContentLinkDD");
this.dropArea$5ezE=dropArea;this.channelContainer$5ezE=channelContainer;this.handleEnter$5ezE=handleEnter;this.handleOver$5ezE=handlerOver;this.handleOut$5ezE=handleOut;this.handleDrop$5ezE=handleDrop}function allowDrop(dragInfo,fromView){if(!dragInfo||this.dropArea$5ezE.disabled)return false;var adapter=AS3.getBindable(this.channelContainer$5ezE,"adapter");if(adapter.isReadOnly())return false;return!com.coremedia.blueprint.social.composer.ComposerBase.isOpened(AS3.getBindable(this.channelContainer$5ezE,
"adapter"))}function notifyEnter(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$5ezE(dragInfo,data.view);this.handleEnter$5ezE&&this.handleEnter$5ezE(mayDrop);return mayDrop?this.dropAllowed:this.dropNotAllowed}function notifyOver(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$5ezE(dragInfo,data.view);this.handleOver$5ezE&&this.handleOver$5ezE(mayDrop);
return mayDrop?this.dropAllowed:this.dropNotAllowed}function notifyDrop(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$5ezE(dragInfo,data.view);this.handleDrop$5ezE&&this.handleDrop$5ezE(mayDrop,dragInfo.getContents(),data.view);return mayDrop}function notifyOut(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$5ezE(dragInfo,data.view);this.handleOut$5ezE&&
this.handleOut$5ezE(mayDrop);Ext.dd.DropTarget.prototype.notifyOut.call(this,source,e,data)}return{extend:"Ext.dd.DropTarget",dropArea$5ezE:null,channelContainer$5ezE:null,handleEnter$5ezE:null,handleOver$5ezE:null,handleOut$5ezE:null,handleDrop$5ezE:null,constructor:AdapterDropAreaTarget$,super$5ezE:function(){Ext.dd.DropTarget.prototype.constructor.apply(this,arguments)},allowDrop$5ezE:allowDrop,notifyEnter:notifyEnter,notifyOver:notifyOver,notifyDrop:notifyDrop,notifyOut:notifyOut,requires:["Ext.dd.DropTarget",
"com.coremedia.cms.editor.sdk.dragdrop.DragInfo"],uses:["com.coremedia.blueprint.social.composer.ComposerBase"]}});Ext.define("com.coremedia.blueprint.social.channels.ChannelContainer",function(ChannelContainer){function ChannelContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.channels.ChannelContainerBase,{});var defaults_$1=AS3.cast(ChannelContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"minWidth",500);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.ACCORDION.getSkin());var ui_SwitchingContainer_32_5_$1=
AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_32_5_$1.flex=1;AS3.setBindable(ui_SwitchingContainer_32_5_$1,"activeItemValueExpression",this.getActiveItemExpression());var panel_34_9_$1=AS3.cast(Ext.panel.Panel,{});panel_34_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.channels.ChannelContainerBase.LOADER_ITEM_ID);var panel_35_9_$1=AS3.cast(Ext.panel.Panel,{});AS3.setBindable(panel_35_9_$1,"scrollable",true);panel_35_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.channels.ChannelContainerBase.MESSAGE_WRAPPER_ITEM_ID);
panel_35_9_$1.flex=1;panel_35_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.GRID_200.getSkin());AS3.setBindable(panel_35_9_$1,"style","border-left: solid 1px #dcdbdb; top: -1px;");var container_38_13_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_38_13_$1,"width",450);AS3.setBindable(container_38_13_$1,"maxWidth",450);var messages_MessagesContainer_40_17_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessagesContainer,{});AS3.setBindable(messages_MessagesContainer_40_17_$1,
"adapter",AS3.getBindable(config,"adapter"));messages_MessagesContainer_40_17_$1.itemId=net.jangaroo.ext.Exml.asString(ChannelContainer.MESSAGE_SCHEDULED_ITEM_ID);AS3.setBindable(messages_MessagesContainer_40_17_$1,"width","100%");AS3.setBindable(messages_MessagesContainer_40_17_$1,"maxWidth",600);AS3.setBindable(messages_MessagesContainer_40_17_$1,"messageType",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SCHEDULED_MESSAGES));AS3.setBindable(messages_MessagesContainer_40_17_$1,
"title",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channel_queue_title")));var ui_BindVisibilityPlugin_47_21_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_47_21_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"adapter").isSchedulingSupported());messages_MessagesContainer_40_17_$1.plugins=[ui_BindVisibilityPlugin_47_21_$1];var container_51_17_$1=AS3.cast(Ext.container.Container,
{});AS3.setBindable(container_51_17_$1,"height",12);var ui_BindVisibilityPlugin_53_21_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_53_21_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"adapter").isSchedulingSupported());container_51_17_$1.plugins=[ui_BindVisibilityPlugin_53_21_$1];var messages_MessagesContainer_57_17_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessagesContainer,{});AS3.setBindable(messages_MessagesContainer_57_17_$1,
"adapter",AS3.getBindable(config,"adapter"));AS3.setBindable(messages_MessagesContainer_57_17_$1,"width","100%");AS3.setBindable(messages_MessagesContainer_57_17_$1,"maxWidth",600);messages_MessagesContainer_57_17_$1.itemId=net.jangaroo.ext.Exml.asString(ChannelContainer.MESSAGE_HISTORY_ITEM_ID);AS3.setBindable(messages_MessagesContainer_57_17_$1,"messageType",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SENT_MESSAGES));AS3.setBindable(messages_MessagesContainer_57_17_$1,
"title",net.jangaroo.ext.Exml.asString(this.resolveHistoryTitle(AS3.getBindable(config,"adapter"))));container_38_13_$1.items=[messages_MessagesContainer_40_17_$1,container_51_17_$1,messages_MessagesContainer_57_17_$1];var layout_VBox_65_17_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_65_17_$1,"align","center");AS3.setBindable(container_38_13_$1,"layout",layout_VBox_65_17_$1);panel_35_9_$1.items=[container_38_13_$1];var layout_VBox_70_13_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_70_13_$1,"align","center");AS3.setBindable(panel_35_9_$1,"layout",layout_VBox_70_13_$1);ui_SwitchingContainer_32_5_$1.items=[panel_34_9_$1,panel_35_9_$1];var layout_Card_75_9_$1=AS3.cast(Ext.layout.container.Card,{});layout_Card_75_9_$1.deferredRender=false;AS3.setBindable(ui_SwitchingContainer_32_5_$1,"layout",layout_Card_75_9_$1);config_$1.items=[ui_SwitchingContainer_32_5_$1];var toolbar_80_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});AS3.setBindable(toolbar_80_5_$1,"height",
44);AS3.setBindable(toolbar_80_5_$1,"style","background-color:"+AS3.getBindable(config,"adapter").getColor());var tbSpacer_82_9_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_82_9_$1,"width",6);var ui_IconDisplayField_83_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_83_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LIGHT.getSkin());AS3.setBindable(ui_IconDisplayField_83_9_$1,"scale","medium");AS3.setBindable(ui_IconDisplayField_83_9_$1,
"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub",AS3.getBindable(config,"adapter").getType().toLowerCase())));var container_87_9_$1=AS3.cast(Ext.container.Container,{});var displayField_89_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_89_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LIGHT.getSkin());AS3.setBindable(displayField_89_13_$1,"value",AS3.getBindable(config,
"adapter").getDisplayName());container_87_9_$1.items=[displayField_89_13_$1];var layout_VBox_92_13_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_92_13_$1,"align","stretch");AS3.setBindable(layout_VBox_92_13_$1,"pack","center");AS3.setBindable(container_87_9_$1,"layout",layout_VBox_92_13_$1);var tbSpacer_95_9_$1=AS3.cast(Ext.toolbar.Spacer,{});tbSpacer_95_9_$1.flex=1;var ui_IconButton_96_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_96_9_$1,
"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","reload")));ui_IconButton_96_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channel_reload"));AS3.setBindable(ui_IconButton_96_9_$1,"handler",AS3.bind(this,"forceReload"));ui_IconButton_96_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.MAIN_NAVIGATION.getSkin());var ui_IconButton_100_9_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_100_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","add")));ui_IconButton_100_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","create_message"));ui_IconButton_100_9_$1.itemId=net.jangaroo.ext.Exml.asString(ChannelContainer.COMPOSER_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_100_9_$1,
"handler",AS3.bind(this,"composeMessage"));ui_IconButton_100_9_$1.enableToggle=true;ui_IconButton_100_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.MAIN_NAVIGATION.getSkin());var ui_BindVisibilityPlugin_107_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_107_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(!AS3.getBindable(config,"adapter").isReadOnly());ui_IconButton_100_9_$1.plugins=[ui_BindVisibilityPlugin_107_13_$1];
var ui_MenuIconButton_110_9_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,{});ui_MenuIconButton_110_9_$1.itemId=net.jangaroo.ext.Exml.asString(ChannelContainer.COLOR_CHOOSER_BUTTON_ITEM_ID);ui_MenuIconButton_110_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","change_color"));ui_MenuIconButton_110_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.MAIN_NAVIGATION.getSkin());AS3.setBindable(ui_MenuIconButton_110_9_$1,
"arrowVisible",false);AS3.setBindable(ui_MenuIconButton_110_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_down")));var menu_116_13_$1=AS3.cast(Ext.menu.Menu,{});var local_ColorChooser_118_17_$1=AS3.cast(com.coremedia.blueprint.social.channels.ColorChooser,{});AS3.setBindable(local_ColorChooser_118_17_$1,"adapter",AS3.getBindable(config,"adapter"));menu_116_13_$1.items=[local_ColorChooser_118_17_$1];ui_MenuIconButton_110_9_$1.menu=
menu_116_13_$1;toolbar_80_5_$1.items=[tbSpacer_82_9_$1,ui_IconDisplayField_83_9_$1,container_87_9_$1,tbSpacer_95_9_$1,ui_IconButton_96_9_$1,ui_IconButton_100_9_$1,ui_MenuIconButton_110_9_$1];config_$1.tbar=toolbar_80_5_$1;var layout_HBox_127_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_127_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_127_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Vdui(config_$1)}return{extend:"com.coremedia.blueprint.social.channels.ChannelContainerBase",
alias:"widget.com.coremedia.blueprint.social.studio.config.channelContainer",constructor:ChannelContainer$,super$Vdui:function(){com.coremedia.blueprint.social.channels.ChannelContainerBase.prototype.constructor.apply(this,arguments)},statics:{COMPOSER_BUTTON_ITEM_ID:"composerButton",COLOR_CHOOSER_BUTTON_ITEM_ID:"colorChooserButton",MESSAGE_SCHEDULED_ITEM_ID:"messagesScheduled",MESSAGE_HISTORY_ITEM_ID:"messagesHistory"},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.Card",
"Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.menu.Menu","Ext.panel.Panel","Ext.toolbar.Spacer","Ext.toolbar.Toolbar","com.coremedia.blueprint.social.channels.ChannelContainerBase","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin",
"com.coremedia.ui.skins.IconDisplayFieldSkin","com.coremedia.ui.skins.PanelSkin","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.beans.SocialHubPropertyNames","com.coremedia.blueprint.social.channels.ColorChooser","com.coremedia.blueprint.social.messages.MessagesContainer"]}});Ext.define("com.coremedia.blueprint.social.channels.ChannelContainerBase",function(ChannelContainerBase){function ChannelContainerBase$(config){if(arguments.length<=0)config=null;this.super$cmCT(config)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.addButtonStyleListeners$cmCT();this.reload(false);this.dropTarget$cmCT=new com.coremedia.blueprint.social.channels.AdapterDropAreaTarget(this,AS3.as(this,com.coremedia.blueprint.social.channels.ChannelContainer),null,null,
null,AS3.bind(this,"handleContentDrop$cmCT"))}function afterLayout(layout){Ext.panel.Panel.prototype.afterLayout.call(this,layout);this.refreshColors(AS3.getBindable(this,"adapter").getColor())}function handleContentDrop(mayDrop,contents){var this$=this;if(mayDrop)com.coremedia.blueprint.social.socialHubService.initComposerModel(AS3.getBindable(this,"adapter").getAdapterId(),contents,function(){this$.composeMessage()})}function forceReload(){this.reload(true)}function reload(invalidate){if(arguments.length<=
0)invalidate=true;this.getActiveItemExpression().setValue(ChannelContainerBase.LOADER_ITEM_ID);this.createLoadMask$cmCT();this.loadMask$cmCT.show();AS3.setBindable(this.loadMask$cmCT,"progress",0);if(invalidate)AS3.getBindable(this,"adapter").invalidate(AS3.bind(this,"loadMessages$cmCT"));else this.loadMessages$cmCT(false)}function createLoadMask(){var loadMaskConfig=AS3.cast(com.coremedia.ui.components.ProgressLoadMask,{});AS3.setBindable(loadMaskConfig,"style","{position: relative; height: 100px; width: 100px; position: absolute; left: 50%; margin-left: -50px; top: 40%; margin-top: -50px;}");
loadMaskConfig.msg="";loadMaskConfig.target=this.queryById(ChannelContainerBase.LOADER_ITEM_ID);this.loadMask$cmCT=new com.coremedia.ui.components.ProgressLoadMask(loadMaskConfig)}function loadMessages(invalidate){if(arguments.length<=0)invalidate=true;var history=AS3.as(this.queryById(com.coremedia.blueprint.social.channels.ChannelContainer.MESSAGE_HISTORY_ITEM_ID),com.coremedia.blueprint.social.messages.MessagesContainer);history.clear();var queue=AS3.as(this.queryById(com.coremedia.blueprint.social.channels.ChannelContainer.MESSAGE_SCHEDULED_ITEM_ID),
com.coremedia.blueprint.social.messages.MessagesContainer);queue.clear();var messages=AS3.getBindable(this,"adapter").getScheduledMessages()||[];messages=messages.concat(AS3.getBindable(this,"adapter").getSentMessages()||[]);if(messages.length===0){this.loadMask$cmCT.destroy();this.getActiveItemExpression().setValue(ChannelContainerBase.MESSAGE_WRAPPER_ITEM_ID);return}this.loadMask$cmCT["messagesCount"]=0;this.loadMask$cmCT["messagesLength"]=messages.length;this.loadMask$cmCT.el.dom["children"][1].setAttribute("style",
"background: transparent;");history.activeItemExpression=this.getActiveItemExpression();history.loadMask=this.loadMask$cmCT;queue.loadMask=this.loadMask$cmCT;queue.activeItemExpression=this.getActiveItemExpression();if(invalidate){history.reload();queue.reload()}}function getActiveItemExpression(){if(!this.activeItemExpression$cmCT)this.activeItemExpression$cmCT=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(ChannelContainerBase.LOADER_ITEM_ID);return this.activeItemExpression$cmCT}
function onComposerClose(){if(this.rendered)this.refreshColors(AS3.getBindable(this,"adapter").getColor())}function refreshColors(color){var topToolbar=AS3.as(this.getDockedItems('toolbar[dock\x3d"top"]')[0],Ext.toolbar.Toolbar);topToolbar.el.dom.setAttribute("style","background-color:"+color);AS3.getBindable(this,"adapter").setColor(color);var buttons=topToolbar.query(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.ui.components.IconButton.xtype).build());for(var $1=0;$1<buttons.length;++$1){var b=
buttons[$1];var style=AS3.as(b.el.dom.getAttribute("style"),String);style=style.replace(/#[0-9a-f]{6}|#[0-9a-f]{3}/gi,AS3.getBindable(this,"adapter").getColor());b.el.dom.setAttribute("style",style)}var backgroundColor=com.coremedia.blueprint.social.channels.Colors.getBackgroundColor(color);var adapterStyle=AS3.as(this.el.dom.getAttribute("style"),String);this.el.dom.setAttribute("style",adapterStyle+"background-color:"+backgroundColor)}function composeMessage(){this.setComposerButtonState(true);
if(com.coremedia.blueprint.social.composer.ComposerBase.isOpened(AS3.getBindable(this,"adapter")))return;var pos=this.getPosition();var composer=AS3.as(com.coremedia.blueprint.social.socialHubService.getComposerModel(AS3.getBindable(this,"adapter").getAdapterId()),com.coremedia.blueprint.social.beans.ComposerModelImpl);var baseConfig={x:this.getX()+this.getWidth()/2-450/2-100,y:pos[1]+14,adapter:AS3.getBindable(this,"adapter"),channelContainer:this,bindTo:com.coremedia.ui.data.ValueExpressionFactory.createFromValue(composer),
xtype:com.coremedia.blueprint.social.composer.Composer.xtype,animateTarget:this.getComposerButton$cmCT().getEl(),renderTo:this.findParentByType(com.coremedia.blueprint.social.SocialHubMainTab.xtype).getLayout().getTarget()};var composerBase=AS3.as(Ext.ComponentManager.create(baseConfig),com.coremedia.blueprint.social.composer.ComposerBase);composer.invalidate(function(){composerBase.show()})}function addButtonStyleListeners(){var topToolbar=AS3.as(this.getDockedItems('toolbar[dock\x3d"top"]')[0],
Ext.toolbar.Toolbar);var buttons=topToolbar.query(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.ui.components.IconButton.xtype).build());for(var $1=0;$1<buttons.length;++$1){var b=buttons[$1];this.applyColorSelection$cmCT(b)}var menuButton=topToolbar.query(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.ui.components.MenuIconButton.xtype).build())[0];this.applyColorSelection$cmCT(menuButton)}function getComposerButton(){var topToolbar=AS3.as(this.getDockedItems('toolbar[dock\x3d"top"]')[0],
Ext.toolbar.Toolbar);return AS3.as(topToolbar.queryById(com.coremedia.blueprint.social.channels.ChannelContainer.COMPOSER_BUTTON_ITEM_ID),Ext.button.Button)}function getColorButton(){var topToolbar=AS3.as(this.getDockedItems('toolbar[dock\x3d"top"]')[0],Ext.toolbar.Toolbar);return AS3.as(topToolbar.queryById(com.coremedia.blueprint.social.channels.ChannelContainer.COLOR_CHOOSER_BUTTON_ITEM_ID),Ext.button.Button)}function applyColorSelection(component){component.el.on("mouseover",AS3.bind(this,"hoverButton$cmCT"));
component.el.on("mouseleave",AS3.bind(this,"hoverExitButton$cmCT"))}function hoverExitButton(e){var style=AS3.as(e.target.getAttribute("style"),String);var styleIndex=style.indexOf("background-color");if(styleIndex!==-1){var b=AS3.as(Ext.getCmp(AS3.as(e.target.getAttribute("data-componentid"),String)),Ext.button.Button);if(b&&AS3.getBindable(b,"menu","DUMMY"))if(AS3.getBindable(b,"menu","DUMMY").isVisible())return;if(!b.pressed){style=style.substr(0,styleIndex);e.target.setAttribute("style",style)}}}
function setComposerButtonState(disabled){if(this.rendered){this.getColorButton$cmCT().setDisabled(disabled);this.getComposerButton$cmCT().setDisabled(disabled);this.getComposerButton$cmCT().setPressed(disabled);this.refreshColors(AS3.getBindable(this,"adapter").getColor())}}function hoverButton(e){if(e.target.tagName.toLowerCase()==="a"){var b=AS3.as(Ext.getCmp(e.target.id),Ext.button.Button);var color=AS3.getBindable(this,"adapter").getHoverColor();if(b.pressed)color=AS3.getBindable(this,"adapter").getPressedColor();
var style=e.target.getAttribute("style");if(style.indexOf("background-color")===-1)style=style+"background-color:"+color;else style=style.replace(/#[0-9a-f]{6}|#[0-9a-f]{3}/gi,color);e.target.setAttribute("style",style)}}function format(msg,length){if(msg&&msg.length>length)return msg.substr(0,length)+"...";return msg}function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);this.dropTarget$cmCT&&this.dropTarget$cmCT.unreg()}function resolveHistoryTitle(ad){if(ad.isNativeHistory())return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub",
"channel_History_extern_title");return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channel_history_title")}return{extend:"Ext.panel.Panel",loadMask$cmCT:null,dropTarget$cmCT:null,activeItemExpression$cmCT:null,constructor:ChannelContainerBase$,super$cmCT:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,afterLayout:afterLayout,handleContentDrop$cmCT:handleContentDrop,forceReload:forceReload,reload:reload,createLoadMask$cmCT:createLoadMask,
loadMessages$cmCT:loadMessages,getActiveItemExpression:getActiveItemExpression,onComposerClose:onComposerClose,refreshColors:refreshColors,composeMessage:composeMessage,addButtonStyleListeners$cmCT:addButtonStyleListeners,getComposerButton$cmCT:getComposerButton,getColorButton$cmCT:getColorButton,applyColorSelection$cmCT:applyColorSelection,hoverExitButton$cmCT:hoverExitButton,setComposerButtonState:setComposerButtonState,hoverButton$cmCT:hoverButton,format:format,onDestroy:onDestroy,resolveHistoryTitle:resolveHistoryTitle,
config:{adapter:null},statics:{LOADER_ITEM_ID:"loader",MESSAGE_WRAPPER_ITEM_ID:"messagesWrapper"},requires:["Ext","Ext.ComponentManager","Ext.button.Button","Ext.panel.Panel","Ext.toolbar.Toolbar","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.components.ProgressLoadMask","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.blueprint.social.SocialHubMainTab","com.coremedia.blueprint.social.beans.ComposerModelImpl",
"com.coremedia.blueprint.social.channels.AdapterDropAreaTarget","com.coremedia.blueprint.social.channels.ChannelContainer","com.coremedia.blueprint.social.channels.Colors","com.coremedia.blueprint.social.composer.Composer","com.coremedia.blueprint.social.composer.ComposerBase","com.coremedia.blueprint.social.messages.MessagesContainer","com.coremedia.blueprint.social.socialHubService"]}});Ext.define("com.coremedia.blueprint.social.channels.ChannelsContainer",function(ChannelsContainer){function ChannelsContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.channels.ChannelsContainerBase,{});var defaults_$1=AS3.cast(ChannelsContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"autoScroll",true);var ui_BindComponentsPlugin_16_5_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});
AS3.setBindable(ui_BindComponentsPlugin_16_5_$1,"valueExpression",AS3.getBindable(config,"adaptersExpression"));AS3.setBindable(ui_BindComponentsPlugin_16_5_$1,"configBeanParameterName","adapter");AS3.setBindable(ui_BindComponentsPlugin_16_5_$1,"clearBeforeUpdate",false);var channels_ChannelContainer_21_9_$1=AS3.cast(com.coremedia.blueprint.social.channels.ChannelContainer,{});channels_ChannelContainer_21_9_$1.flex=1;AS3.setBindable(ui_BindComponentsPlugin_16_5_$1,"template",channels_ChannelContainer_21_9_$1);
config_$1.plugins=[ui_BindComponentsPlugin_16_5_$1];var layout_HBox_26_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_26_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_26_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$o6JZ(config_$1)}return{extend:"com.coremedia.blueprint.social.channels.ChannelsContainerBase",alias:"widget.com.coremedia.blueprint.social.studio.config.channelsContainer",constructor:ChannelsContainer$,super$o6JZ:function(){com.coremedia.blueprint.social.channels.ChannelsContainerBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.layout.container.HBox","com.coremedia.blueprint.social.channels.ChannelsContainerBase","com.coremedia.ui.plugins.BindComponentsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.channels.ChannelContainer"]}});Ext.define("com.coremedia.blueprint.social.channels.ChannelsContainerBase",function(ChannelsContainerBase){function ChannelsContainerBase$(config){if(arguments.length<=0)config=null;this.super$bBPK(config)}return{extend:"Ext.panel.Panel",constructor:ChannelsContainerBase$,super$bBPK:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},config:{adaptersExpression:null},requires:["Ext.panel.Panel"]}});Ext.define("com.coremedia.blueprint.social.channels.ColorButton",function(ColorButton){function ColorButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.channels.ColorButtonBase,{});var defaults_$1=AS3.cast(ColorButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"width",20);AS3.setBindable(config_$1,"height",20);AS3.setBindable(config_$1,"style","background-color:"+AS3.getBindable(config,"color")+";cursor:pointer;");
config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());config_$1.items=[];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$HcH7(config_$1)}return{extend:"com.coremedia.blueprint.social.channels.ColorButtonBase",alias:"widget.com.coremedia.blueprint.social.studio.config.colorButton",constructor:ColorButton$,super$HcH7:function(){com.coremedia.blueprint.social.channels.ColorButtonBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.social.channels.ColorButtonBase",
"com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.channels.ColorButtonBase",function(ColorButtonBase){function ColorButtonBase$(config){if(arguments.length<=0)config=null;this.super$V6Eu(config)}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);this.colorMenu$V6Eu=AS3.as(this.findParentByType(Ext.menu.Menu),Ext.menu.Menu);this.colorMenu$V6Eu.on("hide",AS3.bind(this,"removeHoverColor$V6Eu"));this.el.on("click",AS3.bind(this,"chooseColor"))}function removeHoverColor(){this.applyButtonColor$V6Eu(AS3.getBindable(this,
"adapter").getColor())}function chooseColor(e){var channelContainer=AS3.as(this.findParentByType(com.coremedia.blueprint.social.channels.ChannelContainer.xtype),com.coremedia.blueprint.social.channels.ChannelContainer);channelContainer.refreshColors(AS3.getBindable(this,"color"));this.applyButtonColor$V6Eu(AS3.getBindable(this,"adapter").getHoverColor())}function applyButtonColor(buttonColor){var b=AS3.as(this.findParentByType(com.coremedia.ui.components.MenuIconButton.xtype),Ext.button.Button);var style=
AS3.as(b.el.dom.getAttribute("style"),String);style=style.replace(/#[0-9a-f]{6}|#[0-9a-f]{3}/gi,buttonColor);b.el.dom.setAttribute("style",style)}return{extend:"Ext.container.Container",colorMenu$V6Eu:null,constructor:ColorButtonBase$,super$V6Eu:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,removeHoverColor$V6Eu:removeHoverColor,chooseColor:chooseColor,applyButtonColor$V6Eu:applyButtonColor,config:{color:null,adapter:null},requires:["Ext.button.Button",
"Ext.container.Container","Ext.menu.Menu","com.coremedia.ui.components.MenuIconButton"],uses:["com.coremedia.blueprint.social.channels.ChannelContainer"]}});Ext.define("com.coremedia.blueprint.social.channels.ColorChooser",function(ColorChooser){function ColorChooser$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.channels.ColorChooserBase,{});var defaults_$1=AS3.cast(ColorChooser,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200.getSkin());var container_19_5_$1=AS3.cast(Ext.container.Container,{});container_19_5_$1.items=
[];var ui_BindComponentsPlugin_24_9_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_24_9_$1,"valueExpression",this.getColorButtonsExpression());AS3.setBindable(ui_BindComponentsPlugin_24_9_$1,"configBeanParameterName","color");AS3.setBindable(ui_BindComponentsPlugin_24_9_$1,"reuseComponents",true);AS3.setBindable(ui_BindComponentsPlugin_24_9_$1,"clearBeforeUpdate",false);var channels_ColorButton_30_13_$1=AS3.cast(com.coremedia.blueprint.social.channels.ColorButton,
{});AS3.setBindable(channels_ColorButton_30_13_$1,"adapter",AS3.getBindable(config,"adapter"));AS3.setBindable(ui_BindComponentsPlugin_24_9_$1,"template",channels_ColorButton_30_13_$1);var ui_HorizontalSpacingPlugin_33_9_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_33_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_BLOCK);container_19_5_$1.plugins=[ui_BindComponentsPlugin_24_9_$1,ui_HorizontalSpacingPlugin_33_9_$1];
var layout_HBox_36_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_36_9_$1,"align","stretch");AS3.setBindable(container_19_5_$1,"layout",layout_HBox_36_9_$1);config_$1.items=[container_19_5_$1];var layout_VBox_41_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_41_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_41_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zBB6(config_$1)}return{extend:"com.coremedia.blueprint.social.channels.ColorChooserBase",
alias:"widget.com.coremedia.blueprint.social.studio.config.colorChooser",constructor:ColorChooser$,super$zBB6:function(){com.coremedia.blueprint.social.channels.ColorChooserBase.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.blueprint.social.channels.ColorChooserBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin",
"com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.channels.ColorButton"]}});Ext.define("com.coremedia.blueprint.social.channels.ColorChooserBase",function(ColorChooserBase){function ColorChooserBase$(config){if(arguments.length<=0)config=null;this.super$KLgt(config)}function getColorButtonsExpression(){if(!this.colorButtonsExpression$KLgt)this.colorButtonsExpression$KLgt=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.blueprint.social.channels.Colors.COLORS);return this.colorButtonsExpression$KLgt}return{extend:"Ext.container.Container",colorButtonsExpression$KLgt:null,
constructor:ColorChooserBase$,super$KLgt:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getColorButtonsExpression:getColorButtonsExpression,config:{adapter:null},requires:["Ext.container.Container","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.blueprint.social.channels.Colors"]}});Ext.define("com.coremedia.blueprint.social.channels.Colors",function(Colors){function COLORS$static_(){Colors.COLORS=[Colors.C1,Colors.C2,Colors.C3,Colors.C4,Colors.C5,Colors.C6]}var HOVER_COLORS$static;function HOVER_COLORS$static_(){HOVER_COLORS$static=[Colors.C1_HOVER,Colors.C2_HOVER,Colors.C3_HOVER,Colors.C4_HOVER,Colors.C5_HOVER,Colors.C6_HOVER]}var PRESSED_COLORS$static;function PRESSED_COLORS$static_(){PRESSED_COLORS$static=[Colors.C1_PRESSED,Colors.C2_PRESSED,Colors.C3_PRESSED,Colors.C4_PRESSED,
Colors.C5_PRESSED,Colors.C6_PRESSED]}var BACKGROUND_COLORS$static;function BACKGROUND_COLORS$static_(){BACKGROUND_COLORS$static=[Colors.C1_BACKGROUND,Colors.C2_BACKGROUND,Colors.C3_BACKGROUND,Colors.C4_BACKGROUND,Colors.C5_BACKGROUND,Colors.C6_BACKGROUND]}var index$static=-1;function getColor$static(){index$static++;if(index$static==Colors.COLORS.length-1)index$static=0;return Colors.COLORS[index$static]}function getHoverColor$static(color){var index=Colors.COLORS.indexOf(color);return HOVER_COLORS$static[index]}
function getBackgroundColor$static(color){var index=Colors.COLORS.indexOf(color);return BACKGROUND_COLORS$static[index]}function getPressedColor$static(color){var index=Colors.COLORS.indexOf(color);return PRESSED_COLORS$static[index]}function Colors$(){}return{constructor:Colors$,statics:{C1:"#0a4282;",C1_HOVER:"#165aa8;",C1_BACKGROUND:"#f3f5f9;",C1_PRESSED:"#032a57;",C2:"#4d8735;",C2_HOVER:"#5ca03f;",C2_BACKGROUND:"#f6f9f5;",C2_PRESSED:"#3a6728;",C3:"#a11010;",C3_HOVER:"#c41313;",C3_BACKGROUND:"#faf3f3;",
C3_PRESSED:"#850d0d;",C4:"#a66c02;",C4_HOVER:"#ed9b03;",C4_BACKGROUND:"#fcf8f2;",C4_PRESSED:"#a66c02;",C5:"#646060;",C5_HOVER:"#9f9c9c;",C5_BACKGROUND:"#f7f7f7;",C5_PRESSED:"#403e3e;",C6:"#000000;",C6_HOVER:"#757171;",C6_BACKGROUND:"#f2f2f2;",C6_PRESSED:"#524f4f;",COLORS:undefined,HOVER_COLORS:undefined,PRESSED_COLORS:undefined,BACKGROUND_COLORS:undefined,getColor:getColor$static,getHoverColor:getHoverColor$static,getBackgroundColor:getBackgroundColor$static,getPressedColor:getPressedColor$static,
__initStatics__:function(){COLORS$static_();HOVER_COLORS$static_();PRESSED_COLORS$static_();BACKGROUND_COLORS$static_()}}}});Ext.define("com.coremedia.blueprint.social.composer.Composer",function(Composer){function Composer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.ComposerBase,{});var defaults_$1=AS3.cast(Composer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=false;AS3.setBindable(config_$1,"closable",true);AS3.setBindable(config_$1,"width",460);config_$1.resizable=false;AS3.setBindable(config_$1,"minWidth",460);var container_28_5_$1=
AS3.cast(Ext.container.Container,{});AS3.setBindable(container_28_5_$1,"style","padding: 8px;background-color:"+AS3.getBindable(config,"adapter").getColor());var displayField_30_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_30_9_$1,"value",this.getComposerTitle(AS3.getBindable(config,"adapter")));displayField_30_9_$1.ui=net.jangaroo.ext.Exml.asString(null);AS3.setBindable(displayField_30_9_$1,"style","color:#fff;font-weight:bold;");var container_31_9_$1=AS3.cast(Ext.container.Container,
{});container_31_9_$1.flex=1;container_28_5_$1.items=[displayField_30_9_$1,container_31_9_$1];var layout_HBox_38_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_38_9_$1,"align","stretch");AS3.setBindable(layout_HBox_38_9_$1,"pack","center");AS3.setBindable(container_28_5_$1,"layout",layout_HBox_38_9_$1);var container_41_5_$1=AS3.cast(Ext.container.Container,{});container_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(Composer.EDITOR_PANEL);container_41_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200.getSkin());
AS3.setBindable(container_41_5_$1,"autoScroll",true);AS3.setBindable(container_41_5_$1,"maxHeight",550);AS3.setBindable(container_41_5_$1,"scrollable",true);var editor_DateTimePropertyField_47_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField,{});AS3.setBindable(editor_DateTimePropertyField_47_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));editor_DateTimePropertyField_47_9_$1.labelSeparator="";editor_DateTimePropertyField_47_9_$1.labelAlign="top";AS3.setBindable(editor_DateTimePropertyField_47_9_$1,
"fieldLabel","");AS3.setBindable(editor_DateTimePropertyField_47_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_PUBLICATION_DATE));container_41_5_$1.items=[editor_DateTimePropertyField_47_9_$1];var ui_VerticalSpacingPlugin_55_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_55_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);container_41_5_$1.plugins=
[ui_VerticalSpacingPlugin_55_9_$1];var layout_VBox_58_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_58_9_$1,"align","stretch");AS3.setBindable(container_41_5_$1,"layout",layout_VBox_58_9_$1);var container_61_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_61_5_$1,"style","padding:8px;background-color:#c41313 !important;");var displayField_63_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_63_9_$1.ui=net.jangaroo.ext.Exml.asString(null);AS3.setBindable(displayField_63_9_$1,
"style","color:#FFF;font-weight:bold;");AS3.setBindable(displayField_63_9_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","messsage_property_error"));container_61_5_$1.items=[displayField_63_9_$1];var ui_BindComponentsPlugin_68_9_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_68_9_$1,"valueExpression",this.getErrorMessagesExpression());AS3.setBindable(ui_BindComponentsPlugin_68_9_$1,"configBeanParameterName",
"value");AS3.setBindable(ui_BindComponentsPlugin_68_9_$1,"clearBeforeUpdate",false);var displayField_73_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_73_13_$1.ui=net.jangaroo.ext.Exml.asString(null);AS3.setBindable(displayField_73_13_$1,"html",true);AS3.setBindable(displayField_73_13_$1,"style","color:#FFF;");AS3.setBindable(ui_BindComponentsPlugin_68_9_$1,"template",displayField_73_13_$1);var ui_BindVisibilityPlugin_76_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_76_9_$1.bindTo=
this.getErrorMessagesExpression();AS3.setBindable(ui_BindVisibilityPlugin_76_9_$1,"transformer",function(values){return values.length!==0});container_61_5_$1.plugins=[ui_BindComponentsPlugin_68_9_$1,ui_BindVisibilityPlugin_76_9_$1];var layout_VBox_80_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_80_9_$1,"align","stretch");AS3.setBindable(container_61_5_$1,"layout",layout_VBox_80_9_$1);config_$1.items=[container_28_5_$1,container_41_5_$1,container_61_5_$1];var button_85_5_$1=
AS3.cast(Ext.button.Button,{});button_85_5_$1.itemId="postBtn";button_85_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_85_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","post_button_text")));AS3.setBindable(button_85_5_$1,"handler",AS3.bind(this,"finishComposing"));var button_89_5_$1=AS3.cast(Ext.button.Button,{});button_89_5_$1.itemId="cancelBtn";button_89_5_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_89_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","cancel_button_text")));AS3.setBindable(button_89_5_$1,"handler",AS3.bind(this,"closeComposer"));config_$1.buttons=[button_85_5_$1,button_89_5_$1];var layout_VBox_95_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_95_5_$1,"align","stretch");
AS3.setBindable(config_$1,"layout",layout_VBox_95_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fmS_(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.ComposerBase",alias:"widget.com.coremedia.blueprint.social.studio.config.composer",constructor:Composer$,super$fmS_:function(){com.coremedia.blueprint.social.composer.ComposerBase.prototype.constructor.apply(this,arguments)},statics:{EDITOR_PANEL:"editorPanel"},requires:["Ext.button.Button","Ext.container.Container",
"Ext.form.field.Display","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.blueprint.social.composer.ComposerBase","com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.beans.SocialHubPropertyNames"]}});Ext.define("com.coremedia.blueprint.social.composer.ComposerBase",function(ComposerBase){function ComposerBase$(config){if(arguments.length<=0)config=null;config.id=ComposerBase.COMPOSER_WINDOW_ID+AS3.getBindable(config,"adapter").getAdapterId();this.super$LBCl(config)}function isOpened$static(adapter){var cmp=AS3.as(Ext.getCmp(ComposerBase.COMPOSER_WINDOW_ID+adapter.getAdapterId()),ComposerBase);if(cmp&&cmp.isVisible())return true;return false}function close(){this.closeComposer();Ext.window.Window.prototype.close.call(this)}
function closeAll$static(){var adapters=com.coremedia.blueprint.social.socialHubService.getAdaptersExpression().getValue();if(adapters)for(var $1=0,$2=adapters.getAdapters();$1<$2.length;++$1){var adapter=$2[$1];var cmp=AS3.as(Ext.getCmp(ComposerBase.COMPOSER_WINDOW_ID+adapter.getAdapterId()),ComposerBase);if(cmp&&cmp.isVisible()){AS3.getBindable(cmp,"channelContainer").setComposerButtonState(false);cmp.destroy()}}}function afterRender(){Ext.window.Window.prototype.afterRender.call(this);this.getScheduledDateExpression(AS3.getBindable(this,
"adapter")).addChangeListener(AS3.bind(this,"scheduleDateChanged$LBCl"));var container=AS3.as(this.queryById(com.coremedia.blueprint.social.composer.Composer.EDITOR_PANEL),Ext.container.Container);var properties=AS3.getBindable(this,"adapter").getMessageProperties();var props=properties.concat([]).reverse();this.editors$LBCl={};for(var $1=0;$1<props.length;++$1){var property=props[$1];var propertyType=property.getPropertyType();var config={};var xType="com.coremedia.blueprint.social.studio.config.editor."+
propertyType.toLowerCase();config.xtype=xType;config.adapter=AS3.getBindable(this,"adapter");config.property=property;config.bindTo=AS3.getBindable(this,"bindTo").extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PROPERTIES).extendBy(property.getName());var editor=this.createEditor$LBCl(config);container.insert(0,editor);this.editors$LBCl[property.getName()]=editor}}function createEditor(config){var cmp=null;try{return Ext.ComponentManager.create(config)}catch(e){if(AS3.is(e,
AS3.Error))AS3.trace("[ERROR]",'Failed to create composer component "'+config.xtype+'" '+e);else throw e;}return null}function getScheduledDateExpression(ch){if(!this.scheduleDateExpression$LBCl)this.scheduleDateExpression$LBCl=AS3.getBindable(this,"bindTo").extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PROPERTIES).extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.COMPOSER_PUBLICATION_DATE);return this.scheduleDateExpression$LBCl}function finishComposing(){var msgs=
this.validateEditors$LBCl();this.getErrorMessagesExpression().setValue(msgs.reverse());if(msgs.length===0)this.sendMessage$LBCl()}function getErrorMessagesExpression(){if(!this.errorMessagesExpression$LBCl)this.errorMessagesExpression$LBCl=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.errorMessagesExpression$LBCl}function validateEditors(){var result=[];for(var key in this.editors$LBCl){var property=this.getProperty$LBCl(key);if(!property.isRequired())continue;var editor=
this.editors$LBCl[key];var msg=editor.getErrorMessage();if(msg&&Ext.String.trim(msg).length>0)result.push(msg)}return result}function getProperty(name){var properties=AS3.getBindable(this,"adapter").getMessageProperties();for(var $1=0;$1<properties.length;++$1){var property=properties[$1];if(property.getName()===name)return property}return null}function sendMessage(){var this$=this;AS3.getBindable(this,"channelContainer").setComposerButtonState(false);var composerModel=AS3.getBindable(this,"bindTo").getValue();
composerModel.send(function(message){AS3.getBindable(this$,"channelContainer").reload();this$.close()})}function closeComposer(){var composerModel=AS3.getBindable(this,"bindTo").getValue();composerModel.reset();AS3.getBindable(this,"channelContainer").setComposerButtonState(false);Ext.window.Window.prototype.close.call(this)}function getComposerTitle(ch){var cType=ch.getType().toLowerCase();var title=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","composer_title");return Ext.String.format(title,
ch.getDisplayName())}function scheduleDateChanged(ve){var btn=AS3.as(this.queryById("postBtn"),Ext.button.Button);var value=ve.getValue();if(value)btn.setText(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","schedule_button_text"));else btn.setText(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","post_button_text"))}function onDestroy(){AS3.getBindable(this,"channelContainer").onComposerClose();this.getScheduledDateExpression(AS3.getBindable(this,
"adapter")).removeChangeListener(AS3.bind(this,"scheduleDateChanged$LBCl"));Ext.window.Window.prototype.onDestroy.call(this)}return{extend:"Ext.window.Window",scheduleDateExpression$LBCl:null,editors$LBCl:null,errorMessagesExpression$LBCl:null,constructor:ComposerBase$,super$LBCl:function(){Ext.window.Window.prototype.constructor.apply(this,arguments)},close:close,afterRender:afterRender,createEditor$LBCl:createEditor,getScheduledDateExpression:getScheduledDateExpression,finishComposing:finishComposing,
getErrorMessagesExpression:getErrorMessagesExpression,validateEditors$LBCl:validateEditors,getProperty$LBCl:getProperty,sendMessage$LBCl:sendMessage,closeComposer:closeComposer,getComposerTitle:getComposerTitle,scheduleDateChanged$LBCl:scheduleDateChanged,onDestroy:onDestroy,config:{adapter:null,channelContainer:null,bindTo:null},statics:{COMPOSER_WINDOW_ID:"composerWindow",isOpened:isOpened$static,closeAll:closeAll$static},requires:["AS3.Error","AS3.trace","Ext","Ext.ComponentManager","Ext.String",
"Ext.button.Button","Ext.container.Container","Ext.window.Window","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.blueprint.social.beans.SocialHubPropertyNames","com.coremedia.blueprint.social.composer.Composer","com.coremedia.blueprint.social.socialHubService"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.AddItemButton",function(AddItemButton){function AddItemButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.droparea.AddItemButtonBase,{});var defaults_$1=AS3.cast(AddItemButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_100.getSkin());AS3.setBindable(config_$1,"width",120);AS3.setBindable(config_$1,
"height",90);config_$1.itemId=net.jangaroo.ext.Exml.asString(AddItemButton.ITEM_ID);AS3.setBindable(config_$1,"style","border-width: 3px;border-style: dashed;border-color: #ccc;margin-left: 6px; margin-right: 6px; margin-top: 6px; cursor:pointer;");var ui_IconButton_25_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_25_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","upload_button_text")));
AS3.setBindable(ui_IconButton_25_5_$1,"handler",AS3.getBindable(config,"uploadButtonHandler"));AS3.setBindable(ui_IconButton_25_5_$1,"style","margin-top: -3px;-webkit-text-fill-color: #ccc;");ui_IconButton_25_5_$1.itemId=net.jangaroo.ext.Exml.asString(AddItemButton.BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_25_5_$1,"scale","small");AS3.setBindable(ui_IconButton_25_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","add")));var editor_BrowsePlugin_33_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin,{});AS3.setBindable(editor_BrowsePlugin_33_9_$1,"enableFileDrop",true);AS3.setBindable(editor_BrowsePlugin_33_9_$1,"multiple",true);AS3.setBindable(editor_BrowsePlugin_33_9_$1,"dropEl",this.el);ui_IconButton_25_5_$1.plugins=[editor_BrowsePlugin_33_9_$1];config_$1.items=[ui_IconButton_25_5_$1];var layout_Center_41_5_$1=AS3.cast(Ext.layout.container.Center,{});AS3.setBindable(config_$1,"layout",layout_Center_41_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$URAI(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.droparea.AddItemButtonBase",alias:"widget.com.coremedia.blueprint.social.studio.config.addItemButton",constructor:AddItemButton$,super$URAI:function(){com.coremedia.blueprint.social.composer.droparea.AddItemButtonBase.prototype.constructor.apply(this,arguments)},statics:{ITEM_ID:"addItemButton",BUTTON_ITEM_ID:"browserFileIconButton"},requires:["Ext.layout.container.Center","com.coremedia.blueprint.social.composer.droparea.AddItemButtonBase",
"com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin","com.coremedia.ui.components.IconButton","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.AddItemButtonBase",function(AddItemButtonBase){function AddItemButtonBase$(config){if(arguments.length<=0)config=null;this.super$UPI3(config)}return{extend:"Ext.container.Container",constructor:AddItemButtonBase$,super$UPI3:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{uploadButtonHandler:null},requires:["Ext.container.Container"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.DropContainer",function(DropContainer){function DropContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.droparea.DropContainerBase,{});var defaults_$1=AS3.cast(DropContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"minHeight",160);var displayField_21_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_21_5_$1,"value",
AS3.getBindable(config,"property").getDisplayName());displayField_21_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());var container_22_5_$1=AS3.cast(Ext.container.Container,{});container_22_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME_GRID_200.getSkin());var container_24_9_$1=AS3.cast(Ext.container.Container,{});container_24_9_$1.flex=1;var container_26_13_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_26_13_$1,
"height",30);var button_27_13_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_27_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","upload_button_text")));AS3.setBindable(button_27_13_$1,"handler",AS3.bind(this,"uploadButtonHandler"));AS3.setBindable(button_27_13_$1,"scale","small");button_27_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INLINE.getSkin());var editor_BrowsePlugin_32_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin,
{});AS3.setBindable(editor_BrowsePlugin_32_17_$1,"enableFileDrop",true);AS3.setBindable(editor_BrowsePlugin_32_17_$1,"multiple",true);AS3.setBindable(editor_BrowsePlugin_32_17_$1,"dropEl",this.el);button_27_13_$1.plugins=[editor_BrowsePlugin_32_17_$1];var container_37_13_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_37_13_$1,"height",10);var displayField_38_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_38_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.EMBEDDED.getSkin());
AS3.setBindable(displayField_38_13_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","upload_area_text"));var displayField_40_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_40_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.EMBEDDED.getSkin());AS3.setBindable(displayField_40_13_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","upload_area_text_hint"));container_24_9_$1.items=[container_26_13_$1,
button_27_13_$1,container_37_13_$1,displayField_38_13_$1,displayField_40_13_$1];var ui_BindVisibilityPlugin_44_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_44_13_$1.bindTo=this.getItemsExpression(AS3.getBindable(config,"bindTo"));AS3.setBindable(ui_BindVisibilityPlugin_44_13_$1,"transformer",function(values){return!values||values.length===0});container_24_9_$1.plugins=[ui_BindVisibilityPlugin_44_13_$1];var layout_VBox_48_13_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_48_13_$1,"align","center");AS3.setBindable(layout_VBox_48_13_$1,"pack","center");AS3.setBindable(container_24_9_$1,"layout",layout_VBox_48_13_$1);var container_51_9_$1=AS3.cast(Ext.container.Container,{});container_51_9_$1.flex=1;var container_53_13_$1=AS3.cast(Ext.container.Container,{});container_53_13_$1.flex=1;var droparea_AddItemButton_56_17_$1=AS3.cast(com.coremedia.blueprint.social.composer.droparea.AddItemButton,{});AS3.setBindable(droparea_AddItemButton_56_17_$1,
"uploadButtonHandler",AS3.bind(this,"uploadButtonHandler"));var ui_BindVisibilityPlugin_58_21_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_58_21_$1.bindTo=this.getAddButtonVisibilityExpression(AS3.getBindable(config,"property"),this.getItemsExpression(AS3.getBindable(config,"bindTo")));droparea_AddItemButton_56_17_$1.plugins=[ui_BindVisibilityPlugin_58_21_$1];container_53_13_$1.items=[droparea_AddItemButton_56_17_$1];var ui_BindComponentsPlugin_64_17_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,
{});AS3.setBindable(ui_BindComponentsPlugin_64_17_$1,"addFunction",com.coremedia.blueprint.social.composer.droparea.DropContainerBase.addThumbnails);AS3.setBindable(ui_BindComponentsPlugin_64_17_$1,"valueExpression",this.getItemsExpression(AS3.getBindable(config,"bindTo")));AS3.setBindable(ui_BindComponentsPlugin_64_17_$1,"configBeanParameterName","dropItem");AS3.setBindable(ui_BindComponentsPlugin_64_17_$1,"reuseComponents",true);AS3.setBindable(ui_BindComponentsPlugin_64_17_$1,"getKey",com.coremedia.blueprint.social.composer.droparea.DropContainerBase.getDropItemKey);
AS3.setBindable(ui_BindComponentsPlugin_64_17_$1,"clearBeforeUpdate",false);var droparea_DropItemThumbnail_72_21_$1=AS3.cast(com.coremedia.blueprint.social.composer.droparea.DropItemThumbnail,{});AS3.setBindable(droparea_DropItemThumbnail_72_21_$1,"width",130);AS3.setBindable(droparea_DropItemThumbnail_72_21_$1,"height",130);AS3.setBindable(ui_BindComponentsPlugin_64_17_$1,"template",droparea_DropItemThumbnail_72_21_$1);container_53_13_$1.plugins=[ui_BindComponentsPlugin_64_17_$1];var layout_Column_77_17_$1=
AS3.cast(Ext.layout.container.Column,{});AS3.setBindable(container_53_13_$1,"layout",layout_Column_77_17_$1);container_51_9_$1.items=[container_53_13_$1];var ui_BindVisibilityPlugin_82_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_82_13_$1.bindTo=this.getItemsExpression(AS3.getBindable(config,"bindTo"));AS3.setBindable(ui_BindVisibilityPlugin_82_13_$1,"transformer",function(values){return values&&values.length>0});container_51_9_$1.plugins=[ui_BindVisibilityPlugin_82_13_$1];
var layout_HBox_86_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_86_13_$1,"align","begin");AS3.setBindable(container_51_9_$1,"layout",layout_HBox_86_13_$1);container_22_5_$1.items=[container_24_9_$1,container_51_9_$1];var layout_VBox_91_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_91_9_$1,"align","stretch");AS3.setBindable(container_22_5_$1,"layout",layout_VBox_91_9_$1);config_$1.items=[displayField_21_5_$1,container_22_5_$1];var editor_FileDropPlugin_96_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.upload.FileDropPlugin,{});AS3.setBindable(editor_FileDropPlugin_96_5_$1,"dropHandler",AS3.bind(this,"handleFileDrop"));AS3.setBindable(editor_FileDropPlugin_96_5_$1,"customFileWrapperFactoryMethod",AS3.bind(this,"createFileWrapper"));config_$1.plugins=[editor_FileDropPlugin_96_5_$1];var layout_VBox_99_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_99_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_99_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$YTa_(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.droparea.DropContainerBase",alias:"widget.com.coremedia.blueprint.social.studio.config.editor.assetlist",constructor:DropContainer$,super$YTa_:function(){com.coremedia.blueprint.social.composer.droparea.DropContainerBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.layout.container.Column","Ext.layout.container.HBox","Ext.layout.container.VBox",
"com.coremedia.blueprint.social.composer.droparea.DropContainerBase","com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin","com.coremedia.cms.editor.sdk.upload.FileDropPlugin","com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.composer.droparea.AddItemButton","com.coremedia.blueprint.social.composer.droparea.DropItemThumbnail"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.DropContainerBase",function(DropContainerBase){function DropContainerBase$(config){if(arguments.length<=0)config=null;this.super$VeKl(config)}function afterRender(){var this$=this;Ext.container.Container.prototype.afterRender.call(this);this.setupDropZone();AS3.getBindable(this,"bindTo").loadValue(function(items){var result=[];for(var $1=0;$1<items.length;++$1){var c=items[$1];var item=com.coremedia.blueprint.social.composer.droparea.DropItem.create(c);
result.push(item)}com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){for(var $1=0;$1<result.length;++$1){var dropItem=result[$1];if(!dropItem.isLoaded())return undefined}return result}).loadValue(function(loadedResult){this$.getItemsExpression(AS3.getBindable(this$,"bindTo")).setValue(loadedResult);this$.getItemsExpression(AS3.getBindable(this$,"bindTo")).addChangeListener(AS3.bind(this$,"itemsChanged$VeKl"))})})}function setupDropZone(){var dropZoneConfig=AS3.cast(Ext.dd.DropZone,
{ddGroup:"ContentLinkDD"});var zone=new com.coremedia.blueprint.social.composer.droparea.DropContainerDropZone(this,new com.coremedia.blueprint.social.composer.droparea.DropContainerDropModel(AS3.as(this,com.coremedia.blueprint.social.composer.droparea.DropContainer)),dropZoneConfig);zone.addToGroup("ContentDD")}function handleContentDrop(contents){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){for(var i=0;i<contents.length;i++)com.coremedia.blueprint.social.composer.droparea.DropItem.create(contents[i],
function(item){this$.addDropItem$VeKl(item)})})}function handleFileDrop(files){var this$=this;Ext.MessageBox.show({title:this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_progress_title"),msg:this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_progress_msg"),closable:false,width:300});com.coremedia.ui.util.EventUtil.invokeLater(function(){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();var uploadSettings=
new com.coremedia.cms.editor.sdk.upload.UploadSettings(site.getId());var siteRelativePath=this$.resourceManager.getString("com.coremedia.blueprint.social.SocialHubSettings","social_hub_content_upload_path");var siteRoot=site.getSiteRootFolder();com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.content.ContentPropertyNames.PATH,siteRoot).loadValue(function(){var contentPath=siteRoot.getPath()+"/"+siteRelativePath;uploadSettings.load(function(){com.coremedia.cms.editor.sdk.upload.UploadManager.bulkUpload(uploadSettings,
contentPath,files,function(response){for(var $1=0;$1<files.length;++$1){var w=files[$1];var content=AS3.as(w.getResultObject(),com.coremedia.cap.content.Content);com.coremedia.blueprint.social.composer.droparea.DropItem.create(content,function(item){this$.addDropItem$VeKl(item)})}})});com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(Ext.MessageBox,"hide"));Ext.MessageBox.hide()})})}function getAddButtonVisibilityExpression(prop,bindTo){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(bindTo.getValue()===
undefined)return undefined;var length=bindTo.getValue().length;var maxItems=prop.getMaxLength();return!maxItems||maxItems===0||maxItems>length})}function addDropItem(dropItem){var values=this.getItemsExpression().getValue();var newValues=values.concat([dropItem]);this.getItemsExpression().setValue(newValues);var contents=[];for(var $1=0;$1<newValues.length;++$1){var item=newValues[$1];contents.push(item.getContent())}AS3.getBindable(this,"bindTo").setValue(contents)}function removeDropItem(dropItem){var result=
[];var values=this.getItemsExpression().getValue();for(var $1=0;$1<values.length;++$1){var item=values[$1];if(item.getId()!==dropItem.getId())result.push(item)}this.getItemsExpression().setValue(result);var contents=[];for(var $2=0;$2<result.length;++$2){var dItem=result[$2];contents.push(dItem.getContent())}AS3.getBindable(this,"bindTo").setValue(contents)}function addThumbnails$static(parent,children){children=children.reverse();for(var $1=0;$1<children.length;++$1){var c=children[$1];parent.insert(0,
c)}}function createFileWrapper(fileObject){var wrapper=new com.coremedia.cms.editor.sdk.upload.FileWrapper(fileObject);return wrapper}function uploadButtonHandler(browsePlugin){var fileWrappers=[];var fileList=browsePlugin.getFileList();for(var i=0;i<fileList.length;i++){var fileObject=fileList.item(i);var wrapper=this.createFileWrapper(fileObject);fileWrappers.push(wrapper)}this.handleFileDrop(fileWrappers)}function getDropItemKey$static(dropItem){return""+dropItem.getId()}function onDestroy(){AS3.getBindable(this,
"bindTo").removeChangeListener(AS3.bind(this,"itemsChanged$VeKl"));Ext.container.Container.prototype.onDestroy.call(this)}function getItemsExpression(bindTo){if(!this.itemsExpression$VeKl)this.itemsExpression$VeKl=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.itemsExpression$VeKl}function itemsChanged(ve){var items=ve.getValue();var result=[];for(var $1=0;$1<items.length;++$1){var item=items[$1];result.push(item.getContent())}AS3.getBindable(this,"bindTo").setValue(result)}
function getErrorMessage(){var values=AS3.getBindable(this,"bindTo").getValue();if(!values||values.length===0){var msg=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","messsage_property_error_noMedia_text");var message=Ext.String.format(msg,AS3.getBindable(this,"property").getDisplayName());return message}return null}return{extend:"Ext.container.Container",mixins:["com.coremedia.blueprint.social.composer.MessageFieldEditor"],itemsExpression$VeKl:null,constructor:DropContainerBase$,
super$VeKl:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,setupDropZone:setupDropZone,handleContentDrop:handleContentDrop,handleFileDrop:handleFileDrop,getAddButtonVisibilityExpression:getAddButtonVisibilityExpression,addDropItem$VeKl:addDropItem,removeDropItem:removeDropItem,createFileWrapper:createFileWrapper,uploadButtonHandler:uploadButtonHandler,onDestroy:onDestroy,getItemsExpression:getItemsExpression,itemsChanged$VeKl:itemsChanged,getErrorMessage:getErrorMessage,
config:{bindTo:null,property:null,adapter:null},statics:{addThumbnails:addThumbnails$static,getDropItemKey:getDropItemKey$static},requires:["Ext.String","Ext.container.Container","Ext.dd.DropZone","Ext.window.MessageBox","com.coremedia.blueprint.social.composer.MessageFieldEditor","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.upload.FileWrapper","com.coremedia.cms.editor.sdk.upload.UploadManager",
"com.coremedia.cms.editor.sdk.upload.UploadSettings","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.blueprint.social.composer.droparea.DropContainer","com.coremedia.blueprint.social.composer.droparea.DropContainerDropModel","com.coremedia.blueprint.social.composer.droparea.DropContainerDropZone","com.coremedia.blueprint.social.composer.droparea.DropItem"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.DropContainerDropModel",function(DropContainerDropModel){function DropContainerDropModel$(dropContainer){this.dropContainer$6gNS=dropContainer}function performDefaultAction(droppedContentIds,targetNodeId,callback){if(droppedContentIds&&droppedContentIds.length>0){var droppedRemoteBeans=com.coremedia.ui.util.BeanCollectionDropZoneHelper.getRemoteBeansForNodes(droppedContentIds);var newEditedContents=[];droppedRemoteBeans.forEach(function(remoteBean){var content=
com.coremedia.cap.content.ContentProxyHelper.getContent(remoteBean);if(content&&!content.isFolder())newEditedContents.push(content)});this.dropContainer$6gNS.handleContentDrop(newEditedContents)}}function performAlternativeAction(droppedContentIds,targetNodeId,callback){}function allowDefaultAction(source,nodeIds,targetNodeId){var this$=this;var mayBeMoved=true;var remoteBeansForNodes=com.coremedia.ui.util.BeanCollectionDropZoneHelper.getRemoteBeansForNodes(nodeIds);remoteBeansForNodes.forEach(function(remoteBean){var content=
com.coremedia.cap.content.ContentProxyHelper.getContent(remoteBean);if(!content||content.isFolder())mayBeMoved=false;if(!content.getType())mayBeMoved=false;else if(!content.getType().isSubtypeOf("CMMedia"))mayBeMoved=false;if(this$.alreadyExists$6gNS(content))mayBeMoved=false;var items=this$.dropContainer$6gNS.getItemsExpression().getValue();if(items.length>=AS3.getBindable(this$.dropContainer$6gNS,"property").getMaxLength())mayBeMoved=false});return mayBeMoved}function alreadyExists(content){var items=
AS3.getBindable(this.dropContainer$6gNS,"bindTo").getValue();if(items)for(var $1=0;$1<items.length;++$1){var c=items[$1];if(content.getId()===c.getId())return true}return false}function allowAlternativeAction(source,nodeIds,targetNodeId){return false}function getModelItemId(){return this.dropContainer$6gNS.getItemId()}return{mixins:["com.coremedia.ui.models.DragDropModel"],dropContainer$6gNS:null,constructor:DropContainerDropModel$,performDefaultAction:performDefaultAction,performAlternativeAction:performAlternativeAction,
allowDefaultAction:allowDefaultAction,alreadyExists$6gNS:alreadyExists,allowAlternativeAction:allowAlternativeAction,getModelItemId:getModelItemId,requires:["com.coremedia.cap.content.ContentProxyHelper","com.coremedia.ui.models.DragDropModel","com.coremedia.ui.util.BeanCollectionDropZoneHelper"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.DropContainerDropZone",function(DropContainerDropZone){function DropContainerDropZone$(component,editedContentsDragDropModel,config){this.super$IDQP(component.getEl(),config);this.beanCollectionDropZoneHelper$IDQP=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(editedContentsDragDropModel,false)}function notifyEnter(source,event,data){return this.beanCollectionDropZoneHelper$IDQP.notifyEnter(source,event,data)}function notifyOut(source,
e,data){this.beanCollectionDropZoneHelper$IDQP.notifyOut(source,e,data)}function onContainerOver(source,e,data){return this.beanCollectionDropZoneHelper$IDQP.onContainerOver(source,e,data)}function onContainerDrop(source,e,data){return this.beanCollectionDropZoneHelper$IDQP.onContainerDrop(source,e,data)}return{extend:"Ext.dd.DropZone",beanCollectionDropZoneHelper$IDQP:null,constructor:DropContainerDropZone$,super$IDQP:function(){Ext.dd.DropZone.prototype.constructor.apply(this,arguments)},notifyEnter:notifyEnter,
notifyOut:notifyOut,onContainerOver:onContainerOver,onContainerDrop:onContainerDrop,requires:["Ext.dd.DropZone","com.coremedia.ui.util.BeanCollectionDropZoneHelper"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.DropItem",function(DropItem){function DropItem$(){}function create$static(content,callback){if(arguments.length<=1)callback=null;var dropItem=new DropItem;dropItem.content$2Ims=content;dropItem.id$2Ims=content.getUriPath();content.load(function(){dropItem.setName(content.getName());if(callback)callback(dropItem)});return dropItem}function isLoaded(){if(this.content$2Ims){var loaded=this.content$2Ims.isLoaded();if(!loaded)this.content$2Ims.load();
return loaded}return true}function getContent(){return this.content$2Ims}function setName(name){this.name$2Ims=name}function getName(){return this.name$2Ims}function getId(){return this.id$2Ims}return{content$2Ims:null,name$2Ims:null,id$2Ims:null,constructor:DropItem$,isLoaded:isLoaded,getContent:getContent,setName:setName,getName:getName,getId:getId,statics:{create:create$static}}});Ext.define("com.coremedia.blueprint.social.composer.droparea.DropItemThumbnail",function(DropItemThumbnail){function DropItemThumbnail$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase,{});var defaults_$1=AS3.cast(DropItemThumbnail,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"width",com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase.PREVIEW_WIDTH);config_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_100.getSkin());var container_18_5_$1=AS3.cast(Ext.container.Container,{});container_18_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());container_18_5_$1.itemId=net.jangaroo.ext.Exml.asString(DropItemThumbnail.PREVIEW_ITEM_ID);AS3.setBindable(container_18_5_$1,"style","background-color:#f1f1f1;");AS3.setBindable(container_18_5_$1,"width",com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase.PREVIEW_WIDTH);
AS3.setBindable(container_18_5_$1,"height",com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase.PREVIEW_HEIGHT);container_18_5_$1.items=[];var layout_Center_26_9_$1=AS3.cast(Ext.layout.container.Center,{});AS3.setBindable(container_18_5_$1,"layout",layout_Center_26_9_$1);var container_29_5_$1=AS3.cast(Ext.container.Container,{});var displayField_31_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_31_9_$1,"value",com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase.formatName(AS3.getBindable(config,
"dropItem").getName()));var container_32_9_$1=AS3.cast(Ext.container.Container,{});container_32_9_$1.flex=1;var ui_IconButton_33_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_33_9_$1.itemId="remove";AS3.setBindable(ui_IconButton_33_9_$1,"hidden",true);AS3.setBindable(ui_IconButton_33_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","delete_attachment_text")));AS3.setBindable(ui_IconButton_33_9_$1,"tooltip",
this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","delete_attachment_text"));AS3.setBindable(ui_IconButton_33_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","trash_bin")));AS3.setBindable(ui_IconButton_33_9_$1,"handler",AS3.bind(this,"removeThumbnail"));container_29_5_$1.items=[displayField_31_9_$1,container_32_9_$1,ui_IconButton_33_9_$1];var layout_HBox_41_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_41_9_$1,
"align","stretch");AS3.setBindable(container_29_5_$1,"layout",layout_HBox_41_9_$1);config_$1.items=[container_18_5_$1,container_29_5_$1];var layout_VBox_46_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_46_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_46_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ng5M(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase",alias:"widget.com.coremedia.blueprint.social.studio.config.dropItemContainer",
constructor:DropItemThumbnail$,super$ng5M:function(){com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase.prototype.constructor.apply(this,arguments)},statics:{PREVIEW_ITEM_ID:"preview"},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.Center","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase","com.coremedia.ui.components.IconButton","com.coremedia.ui.skins.ContainerSkin",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.droparea.DropItemThumbnailBase",function(DropItemThumbnailBase){function DropItemThumbnailBase$(config){if(arguments.length<=0)config=null;this.super$QO57(config)}function afterRender(){var this$=this;Ext.container.Container.prototype.afterRender.call(this);this.getEl().on("mouseover",AS3.bind(this,"onMouseOver$QO57"));this.getEl().on("mouseleave",AS3.bind(this,"onMouseLeave$QO57"));var previewContainer=AS3.as(this.queryById(com.coremedia.blueprint.social.composer.droparea.DropItemThumbnail.PREVIEW_ITEM_ID),
Ext.container.Container);previewContainer.hide();previewContainer.setDisabled(true);com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var url=com.coremedia.cms.editor.sdk.editorContext.getThumbnailUri(AS3.getBindable(this$,"dropItem").getContent());if(url===undefined)return undefined;return url}).loadValue(function(url){var image=Ext.create(com.coremedia.ui.components.Image,{});image.setSrc(url);image.setStyle("max-height:"+(DropItemThumbnailBase.PREVIEW_HEIGHT-DropItemThumbnailBase.PREVIEW_CONTAINER_BORDER_WIDTH)+
"px; max-width:"+(DropItemThumbnailBase.PREVIEW_WIDTH-DropItemThumbnailBase.PREVIEW_CONTAINER_BORDER_WIDTH-2)+"px;");previewContainer.add(image);var imgEl=image.getEl();var layout=AS3.cast(Ext.layout.container.Center,previewContainer.getLayout());previewContainer.updateLayout();com.coremedia.ui.util.EventUtil.invokeLater(function(){previewContainer.show()})})}function getRemoveButton(){return AS3.as(this.queryById("remove"),Ext.button.Button)}function onMouseOver(){this.setUI(com.coremedia.ui.skins.ContainerSkin.SELECTED_100.getSkin());
this.getRemoveButton$QO57().show()}function onMouseLeave(){this.setUI(com.coremedia.ui.skins.ContainerSkin.GRID_100.getSkin());this.getRemoveButton$QO57().hide()}function formatName$static(name){if(name.length>10)return name.substr(0,9)+"...";return name}function removeThumbnail(){var dropContainer=AS3.as(this.findParentByType(com.coremedia.blueprint.social.composer.droparea.DropContainer.xtype),com.coremedia.blueprint.social.composer.droparea.DropContainer);dropContainer.removeDropItem(AS3.getBindable(this,
"dropItem"))}function setEmptyPreview(){var previewContainer=AS3.as(this.queryById("preview"),Ext.container.Container);var text=Ext.create(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(text,"value",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_mimetype_text"));text.ui=com.coremedia.ui.skins.IconDisplayFieldSkin.EMBEDDED.getSkin();AS3.setBindable(text,"maxWidth",DropItemThumbnailBase.PREVIEW_WIDTH-DropItemThumbnailBase.STANDARD_GRID_100*
2);AS3.setBindable(text,"textAlign",com.coremedia.ui.mixins.TextAlign.CENTER);AS3.setBindable(text,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(text,"scale","medium");text.setFieldStyle("padding-top: 0");previewContainer.add(text);previewContainer.updateLayout()}return{extend:"Ext.container.Container",constructor:DropItemThumbnailBase$,super$QO57:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getRemoveButton$QO57:getRemoveButton,
onMouseOver$QO57:onMouseOver,onMouseLeave$QO57:onMouseLeave,removeThumbnail:removeThumbnail,setEmptyPreview$QO57:setEmptyPreview,config:{dropItem:null},statics:{PREVIEW_WIDTH:120,PREVIEW_HEIGHT:90,PREVIEW_CONTAINER_BORDER_WIDTH:2,STANDARD_GRID_100:6,formatName:formatName$static},requires:["Ext","Ext.button.Button","Ext.container.Container","Ext.layout.container.Center","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.Image","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.mixins.TextAlign","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.IconDisplayFieldSkin","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.social.composer.droparea.DropContainer","com.coremedia.blueprint.social.composer.droparea.DropItemThumbnail"]}});Ext.define("com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialog",function(ExternalLinkDialog){function ExternalLinkDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialogBase,{});var defaults_$1=AS3.cast(ExternalLinkDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","external_link_dialog_title"));
AS3.setBindable(config_$1,"width",400);AS3.setBindable(config_$1,"height",160);config_$1.modal=true;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var fieldContainer_26_5_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_26_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","external_link_dialog_url_text")));var ui_StatefulTextField_29_9_$1=
AS3.cast(com.coremedia.ui.components.StatefulTextField,{});ui_StatefulTextField_29_9_$1.name="link";ui_StatefulTextField_29_9_$1.flex=1;var ui_BlockEnterPlugin_31_13_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});var ui_BindPropertyPlugin_32_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_32_13_$1.bindTo=this.getUrlValueExpression();ui_BindPropertyPlugin_32_13_$1.ifUndefined="";ui_BindPropertyPlugin_32_13_$1.bidirectional=true;ui_StatefulTextField_29_9_$1.plugins=
[ui_BlockEnterPlugin_31_13_$1,ui_BindPropertyPlugin_32_13_$1];fieldContainer_26_5_$1.items=[ui_StatefulTextField_29_9_$1];var layout_HBox_39_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_39_9_$1,"align","stretch");AS3.setBindable(fieldContainer_26_5_$1,"layout",layout_HBox_39_9_$1);var container_42_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_42_5_$1,"height",6);var fieldContainer_43_5_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_43_5_$1,
"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","external_link_dialog_shorten_text")));var checkbox_46_9_$1=AS3.cast(Ext.form.field.Checkbox,{});var ui_BindPropertyPlugin_48_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_48_13_$1.bidirectional=true;ui_BindPropertyPlugin_48_13_$1.ifUndefined="false";ui_BindPropertyPlugin_48_13_$1.bindTo=this.getShortenLinkCheckboxExpression();checkbox_46_9_$1.plugins=
[ui_BindPropertyPlugin_48_13_$1];fieldContainer_43_5_$1.items=[checkbox_46_9_$1];var layout_HBox_55_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_55_9_$1,"align","stretch");AS3.setBindable(fieldContainer_43_5_$1,"layout",layout_HBox_55_9_$1);config_$1.items=[fieldContainer_26_5_$1,container_42_5_$1,fieldContainer_43_5_$1];var layout_VBox_60_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_60_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",
layout_VBox_60_5_$1);var toolbar_63_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});var tbFill_65_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_66_9_$1=AS3.cast(Ext.button.Button,{});button_66_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_66_9_$1,"scale","small");AS3.setBindable(button_66_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultSubmitButton_text")));
AS3.setBindable(button_66_9_$1,"handler",AS3.bind(this,"okPressed"));var ui_BindPropertyPlugin_71_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_71_13_$1.componentProperty="disabled";ui_BindPropertyPlugin_71_13_$1.bindTo=this.getSubmitButtonDisabledExpression();button_66_9_$1.plugins=[ui_BindPropertyPlugin_71_13_$1];var button_75_9_$1=AS3.cast(Ext.button.Button,{});button_75_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_75_9_$1,"scale","small");AS3.setBindable(button_75_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_75_9_$1,"handler",AS3.bind(this,"close"));toolbar_63_5_$1.items=[tbFill_65_9_$1,button_66_9_$1,button_75_9_$1];config_$1.fbar=toolbar_63_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xrAu(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialogBase",
constructor:ExternalLinkDialog$,super$xrAu:function(){com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialogBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","Ext.container.Container","Ext.form.FieldContainer","Ext.form.field.Checkbox","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialogBase","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialogBase",function(ExternalLinkDialogBase){function ExternalLinkDialogBase$(config){if(arguments.length<=0)config=null;this.super$Dh6f(config)}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);this.editor$Dh6f=AS3.getBindable(this,"messageEditor").getRichtextEditor().getCKEditor();var selection=this.editor$Dh6f.getSelection();var element=null;if((element=this.getSelectedLink$Dh6f(this.editor$Dh6f))&&
element.hasAttribute("_xlink:href")){selection.selectElement(element);this.getUrlValueExpression().setValue(element.getText())}}function getSelectedLink(editor){var range;try{range=editor.getSelection().getRanges(true)[0];range.shrink(CKEDITOR["SHRINK_TEXT"]);var root=range.getCommonAncestor();return root.getAscendant("a",true)}catch(e){return null}}function getSubmitButtonDisabledExpression(){var this$=this;if(!this.submitButtonDisabledExpression$Dh6f)this.submitButtonDisabledExpression$Dh6f=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var url=
this$.getUrlValueExpression().getValue();return!url||url.length===0||url.indexOf("http")===-1});return this.submitButtonDisabledExpression$Dh6f}function getUrlValueExpression(){if(!this.urlValueExpression$Dh6f)this.urlValueExpression$Dh6f=com.coremedia.ui.data.ValueExpressionFactory.createFromValue("");return this.urlValueExpression$Dh6f}function getShortenLinkCheckboxExpression(){if(!this.shortenLinkCheckboxValueExpression$Dh6f)this.shortenLinkCheckboxValueExpression$Dh6f=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);
return this.shortenLinkCheckboxValueExpression$Dh6f}function okPressed(){var this$=this;var url=this.getUrlValueExpression().getValue();var doShorten=this.getShortenLinkCheckboxExpression().getValue();if(doShorten)com.coremedia.blueprint.social.beans.SocialHubServices.shortenUrl(url,function(shortened){this$.insertLink$Dh6f(shortened,true)});else this.insertLink$Dh6f(url,doShorten)}function insertLink(url,shortened){var attributes={};var removeAttributes=[];var data=this.getData();attributes["_xlink:href"]=
url;attributes["href"]="#";this.editor$Dh6f.fire("saveSnapshot");attributes["_xlink:show"]="new";var element=this.editor$Dh6f.getSelection().getSelectedElement();if(element&&element.getName()==="a"){var href=element.getAttribute("_xlink:href");var textView=element.getHtml();if(CKEDITOR["env"].ie&&attributes.name!=element.getAttribute("name")){var newElement=new CKEDITOR["dom"].element('\x3ca name\x3d"'+CKEDITOR["tools"].htmlEncode(attributes.name)+'"\x3e',this.editor$Dh6f.document);selection=this.editor$Dh6f.getSelection();
element.moveChildren(newElement);element.copyAttributes(newElement,{name:1});newElement.replace(element);element=newElement;selection.selectElement(element)}element.setAttributes(attributes);element.removeAttributes(removeAttributes);if(href==textView)element.setHtml(attributes["_xlink:href"])}else{var selection=this.editor$Dh6f.getSelection();var ranges=selection.getRanges();if(ranges.length==1&&ranges[0].collapsed){var text=new CKEDITOR["dom"].text(attributes["_xlink:href"],this.editor$Dh6f.document);
ranges[0].insertNode(text);ranges[0].selectNodeContents(text);selection.selectRanges(ranges)}var style=new CKEDITOR["style"]({element:"a",attributes:attributes});style.type=CKEDITOR["STYLE_INLINE"];this.editor$Dh6f.applyStyle(style);if(data&&data.adv&&data.adv.advId){var links=this.editor$Dh6f.document.$.getElementsByTagName("a");for(var i=0;i<links.length;i++)if(links[i].href==attributes["_xlink:href"]){links[i].id=data.adv.advId;break}}}this.editor$Dh6f.fire("save");this.editor$Dh6f.fire("saveSnapshot");
this.close()}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",submitButtonDisabledExpression$Dh6f:null,shortenLinkCheckboxValueExpression$Dh6f:null,urlValueExpression$Dh6f:null,editor$Dh6f:undefined,constructor:ExternalLinkDialogBase$,super$Dh6f:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getSelectedLink$Dh6f:getSelectedLink,getSubmitButtonDisabledExpression:getSubmitButtonDisabledExpression,
getUrlValueExpression:getUrlValueExpression,getShortenLinkCheckboxExpression:getShortenLinkCheckboxExpression,okPressed:okPressed,insertLink$Dh6f:insertLink,config:{messageEditor:null},requires:["com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.blueprint.social.beans.SocialHubServices"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageCharacterCounter",function(MessageCharacterCounter){function MessageCharacterCounter$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.MessageCharacterCounterBase,{});var defaults_$1=AS3.cast(MessageCharacterCounter,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var displayField_15_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_15_5_$1,"value","");
var ui_BindPropertyPlugin_17_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_17_9_$1.componentProperty="value";ui_BindPropertyPlugin_17_9_$1.bindTo=this.getMessageCounterExpression(AS3.getBindable(config,"bindTo"));displayField_15_5_$1.plugins=[ui_BindPropertyPlugin_17_9_$1];config_$1.items=[displayField_15_5_$1];var layout_HBox_23_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_23_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$GrBS(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.MessageCharacterCounterBase",alias:"widget.com.coremedia.blueprint.social.studio.config.messageCharacterCounter",constructor:MessageCharacterCounter$,super$GrBS:function(){com.coremedia.blueprint.social.composer.MessageCharacterCounterBase.prototype.constructor.apply(this,arguments)},requires:["Ext.form.field.Display","Ext.layout.container.HBox","com.coremedia.blueprint.social.composer.MessageCharacterCounterBase",
"com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageCharacterCounterBase",function(MessageCharacterCounterBase){function MessageCharacterCounterBase$(config){if(arguments.length<=0)config=null;this.super$XV$D(config)}function getMessageCounterExpression(bindTo){if(!this.counterExpression$XV$D)this.counterExpression$XV$D=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var rt=bindTo.getValue();if(rt===undefined)return undefined;var plain=com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer.convertToPlainText(rt);
plain=Ext.String.trim(plain);return""+plain.length});return this.counterExpression$XV$D}return{extend:"Ext.panel.Panel",counterExpression$XV$D:null,constructor:MessageCharacterCounterBase$,super$XV$D:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getMessageCounterExpression:getMessageCounterExpression,config:{adapter:null,bindTo:null},requires:["Ext.String","Ext.panel.Panel","com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageChoiceEditor",function(MessageChoiceEditor){function MessageChoiceEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.MessageChoiceEditorBase,{});var defaults_$1=AS3.cast(MessageChoiceEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_LocalComboBox_15_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});AS3.setBindable(ui_LocalComboBox_15_5_$1,"editable",
false);AS3.setBindable(ui_LocalComboBox_15_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getDisplayName()));AS3.setBindable(ui_LocalComboBox_15_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getEmptyText()));ui_LocalComboBox_15_5_$1.labelAlign="top";ui_LocalComboBox_15_5_$1.itemId=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getName());ui_LocalComboBox_15_5_$1.labelSeparator="";AS3.setBindable(ui_LocalComboBox_15_5_$1,
"encodeItems",true);AS3.setBindable(ui_LocalComboBox_15_5_$1,"store",com.coremedia.blueprint.social.composer.MessageChoiceEditorBase.getStore(AS3.getBindable(config,"property")));var ui_BindPropertyPlugin_24_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_24_9_$1.bidirectional=true;ui_BindPropertyPlugin_24_9_$1.bindTo=AS3.getBindable(config,"bindTo");ui_LocalComboBox_15_5_$1.plugins=[ui_BindPropertyPlugin_24_9_$1];config_$1.items=[ui_LocalComboBox_15_5_$1];var layout_VBox_29_5_$1=
AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_29_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_29_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$LCit(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.MessageChoiceEditorBase",alias:"widget.com.coremedia.blueprint.social.studio.config.editor.choice",constructor:MessageChoiceEditor$,super$LCit:function(){com.coremedia.blueprint.social.composer.MessageChoiceEditorBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.layout.container.VBox","com.coremedia.blueprint.social.composer.MessageChoiceEditorBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageChoiceEditorBase",function(MessageChoiceEditorBase){function MessageChoiceEditorBase$(config){if(arguments.length<=0)config=null;this.super$7TAe(config);if(AS3.getBindable(this,"property").isRequired())AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"valueChanged$7TAe"))}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);if(AS3.getBindable(this,"property").getDefaultOption())AS3.getBindable(this,"bindTo").setValue(AS3.getBindable(this,
"property").getDefaultOption())}function valueChanged(ve){var editor=this.queryById(AS3.getBindable(this,"property").getName());var statefulEditor=AS3.as(editor,com.coremedia.ui.mixins.ValidationStateMixin);if(!ve.getValue()||Ext.String.trim(ve.getValue()).length===0)AS3.setBindable(statefulEditor,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);else AS3.setBindable(statefulEditor,"validationState",undefined)}function getStore$static(property){var localStore=[];for(var $1=0,$2=property.getOptions();$1<
$2.length;++$1){var prop=$2[$1];var key=prop;var bundleKey="message_property_"+property.getName().toLowerCase()+"_"+key;var value=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub",bundleKey);if(!value)value=key;localStore.push([key,value])}return localStore}function getErrorMessage(){if(!AS3.getBindable(this,"bindTo").getValue()){var msg=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","messsage_property_error_noValue_text");var message=
Ext.String.format(msg,AS3.getBindable(this,"property").getDisplayName());return message}return null}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.blueprint.social.composer.MessageFieldEditor"],constructor:MessageChoiceEditorBase$,super$7TAe:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,valueChanged$7TAe:valueChanged,getErrorMessage:getErrorMessage,config:{bindTo:null,property:null,adapter:null},statics:{getStore:getStore$static},requires:["Ext.String",
"Ext.panel.Panel","com.coremedia.blueprint.social.composer.MessageFieldEditor","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageDateEditor",function(MessageDateEditor){function MessageDateEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.MessageDateEditorBase,{});var defaults_$1=AS3.cast(MessageDateEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_DateTimePropertyField_18_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField,{});AS3.setBindable(editor_DateTimePropertyField_18_5_$1,
"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.as(AS3.getBindable(config,"bindTo"),com.coremedia.ui.data.PropertyPathExpression).getBean()));editor_DateTimePropertyField_18_5_$1.labelSeparator="";editor_DateTimePropertyField_18_5_$1.labelAlign="top";editor_DateTimePropertyField_18_5_$1.itemId=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getName());AS3.setBindable(editor_DateTimePropertyField_18_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"property").getDisplayName()));AS3.setBindable(editor_DateTimePropertyField_18_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getName()));config_$1.items=[editor_DateTimePropertyField_18_5_$1];var layout_VBox_26_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_26_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_26_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$L7t4(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.MessageDateEditorBase",
alias:"widget.com.coremedia.blueprint.social.studio.config.editor.date",constructor:MessageDateEditor$,super$L7t4:function(){com.coremedia.blueprint.social.composer.MessageDateEditorBase.prototype.constructor.apply(this,arguments)},requires:["Ext.layout.container.VBox","com.coremedia.blueprint.social.composer.MessageDateEditorBase","com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField","com.coremedia.ui.data.PropertyPathExpression","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageDateEditorBase",function(MessageDateEditorBase){function MessageDateEditorBase$(config){if(arguments.length<=0)config=null;this.super$jtQr(config);if(AS3.getBindable(this,"property").getDefaultOption())AS3.getBindable(this,"bindTo").setValue(AS3.getBindable(this,"property").getDefaultOption())}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);var dateTime=AS3.as(this.queryById("dateTimePropertyField"),com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField);
AS3.setBindable(dateTime,"fieldLabel",AS3.getBindable(this,"property").getDisplayName())}function valueChanged(ve){var editor=this.queryById(AS3.getBindable(this,"property").getName());var statefulEditor=AS3.as(editor,com.coremedia.ui.mixins.ValidationStateMixin);if(!ve.getValue()||Ext.String.trim(ve.getValue()).length===0)AS3.setBindable(statefulEditor,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);else AS3.setBindable(statefulEditor,"validationState",undefined)}function getErrorMessage(){if(!AS3.getBindable(this,
"bindTo").getValue()){var msg=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","messsage_property_error_empty_text");var message=Ext.String.format(msg,AS3.getBindable(this,"property").getDisplayName());return message}return null}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.blueprint.social.composer.MessageFieldEditor"],constructor:MessageDateEditorBase$,super$jtQr:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,valueChanged$jtQr:valueChanged,
getErrorMessage:getErrorMessage,config:{bindTo:null,property:null,adapter:null},requires:["Ext.String","Ext.panel.Panel","com.coremedia.blueprint.social.composer.MessageFieldEditor","com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageFieldEditor",function(MessageFieldEditor){return{}});Ext.define("com.coremedia.blueprint.social.composer.MessageTextareaEditor",function(MessageTextareaEditor){function MessageTextareaEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.MessageTextareaEditorBase,{});var defaults_$1=AS3.cast(MessageTextareaEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var displayField_21_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_21_5_$1,"value",AS3.getBindable(config,
"property").getDisplayName());displayField_21_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());var container_22_5_$1=AS3.cast(Ext.container.Container,{});var ui_IconButton_29_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_29_9_$1.itemId=net.jangaroo.ext.Exml.asString(MessageTextareaEditor.EXTERNAL_LINK_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_29_9_$1,"handler",AS3.bind(this,"openExternalLinkDialog"));AS3.setBindable(ui_IconButton_29_9_$1,
"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cmlink_tooltip"));AS3.setBindable(ui_IconButton_29_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","add_external_link")));var container_33_9_$1=AS3.cast(Ext.container.Container,{});container_33_9_$1.flex=1;var composer_MessageCharacterCounter_34_9_$1=AS3.cast(com.coremedia.blueprint.social.composer.MessageCharacterCounter,{});AS3.setBindable(composer_MessageCharacterCounter_34_9_$1,
"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(composer_MessageCharacterCounter_34_9_$1,"adapter",AS3.getBindable(config,"adapter"));container_22_5_$1.items=[ui_IconButton_29_9_$1,container_33_9_$1,composer_MessageCharacterCounter_34_9_$1];var layout_HBox_37_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_37_9_$1,"align","stretch");AS3.setBindable(container_22_5_$1,"layout",layout_HBox_37_9_$1);var richtext_MessageRichtextArea_40_5_$1=AS3.cast(com.coremedia.blueprint.social.composer.richtext.MessageRichtextArea,
{});richtext_MessageRichtextArea_40_5_$1.itemId="richtextEditor";AS3.setBindable(richtext_MessageRichtextArea_40_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));config_$1.items=[displayField_21_5_$1,container_22_5_$1,richtext_MessageRichtextArea_40_5_$1];var layout_VBox_43_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_43_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_43_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$cR$G(config_$1)}
return{extend:"com.coremedia.blueprint.social.composer.MessageTextareaEditorBase",alias:"widget.com.coremedia.blueprint.social.studio.config.editor.markup",constructor:MessageTextareaEditor$,super$cR$G:function(){com.coremedia.blueprint.social.composer.MessageTextareaEditorBase.prototype.constructor.apply(this,arguments)},statics:{EXTERNAL_LINK_BUTTON_ITEM_ID:"externalLink",INTERNAL_LINK_BUTTON_ITEM_ID:"internalLink"},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox",
"Ext.layout.container.VBox","com.coremedia.blueprint.social.composer.MessageTextareaEditorBase","com.coremedia.ui.components.IconButton","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.composer.MessageCharacterCounter","com.coremedia.blueprint.social.composer.richtext.MessageRichtextArea"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageTextareaEditorBase",function(MessageTextareaEditorBase){function MessageTextareaEditorBase$(config){if(arguments.length<=0)config=null;this.super$DDB1(config);if(AS3.getBindable(this,"property").isRequired())AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"valueChanged$DDB1"))}function afterRender(){var this$=this;Ext.panel.Panel.prototype.afterRender.call(this);var ckEditor=this.getRichtextEditor().getCKEditor();ckEditor.on("instanceReady",
function(){ckEditor.focus();ckEditor.focusManager.focus();this$.getCKEditorValueExpression().setValue(ckEditor)})}function getRichTextWindowGroup(){if(!this.richTextWindowGroup$DDB1){this.richTextWindowGroup$DDB1=new Ext.ZIndexManager;this.richTextWindowGroup$DDB1["setBase"](Ext.WindowManager["zseed"]-1E4)}return this.richTextWindowGroup$DDB1}function getCKEditorValueExpression(){if(!this.ckEditorValueExpression$DDB1)this.ckEditorValueExpression$DDB1=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();
return this.ckEditorValueExpression$DDB1}function valueChanged(ve){var editor=this.getRichtextEditor();var statefulEditor=AS3.as(editor,com.coremedia.ui.mixins.ValidationStateMixin);if(!ve.getValue()||Ext.String.trim(ve.getValue()).length===0)AS3.setBindable(statefulEditor,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);else AS3.setBindable(statefulEditor,"validationState",undefined)}function openExternalLinkDialog(){var dialog=Ext.create(com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialog,
{messageEditor:this});dialog.show()}function getRichtextEditor(){return AS3.as(this.queryById("richtextEditor"),com.coremedia.ui.ckeditor.RichTextArea)}function getErrorMessage(){var value=AS3.getBindable(this,"bindTo").getValue();if(!value){var msg=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","messsage_property_error_empty_text");var message=Ext.String.format(msg,AS3.getBindable(this,"property").getDisplayName());return message}return null}return{extend:"Ext.panel.Panel",
mixins:["com.coremedia.blueprint.social.composer.MessageFieldEditor"],ckEditorValueExpression$DDB1:null,richTextWindowGroup$DDB1:null,constructor:MessageTextareaEditorBase$,super$DDB1:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getRichTextWindowGroup:getRichTextWindowGroup,getCKEditorValueExpression:getCKEditorValueExpression,valueChanged$DDB1:valueChanged,openExternalLinkDialog:openExternalLinkDialog,getRichtextEditor:getRichtextEditor,getErrorMessage:getErrorMessage,
config:{bindTo:null,property:null,adapter:null},requires:["Ext","Ext.String","Ext.ZIndexManager","Ext.panel.Panel","com.coremedia.blueprint.social.composer.MessageFieldEditor","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin"],uses:["com.coremedia.blueprint.social.composer.externallink.ExternalLinkDialog"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageTextEditor",function(MessageTextEditor){function MessageTextEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.MessageTextEditorBase,{});var defaults_$1=AS3.cast(MessageTextEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_StatefulTextField_15_5_$1=AS3.cast(com.coremedia.ui.components.StatefulTextField,{});AS3.setBindable(ui_StatefulTextField_15_5_$1,"fieldLabel",
net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getDisplayName()));ui_StatefulTextField_15_5_$1.itemId=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getName());ui_StatefulTextField_15_5_$1.labelSeparator="";ui_StatefulTextField_15_5_$1.labelAlign="top";AS3.setBindable(ui_StatefulTextField_15_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"property").getEmptyText()));var ui_BindPropertyPlugin_21_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_21_9_$1.bidirectional=true;ui_BindPropertyPlugin_21_9_$1.bindTo=AS3.getBindable(config,"bindTo");var ui_BlockEnterPlugin_22_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});ui_StatefulTextField_15_5_$1.plugins=[ui_BindPropertyPlugin_21_9_$1,ui_BlockEnterPlugin_22_9_$1];config_$1.items=[ui_StatefulTextField_15_5_$1];var layout_VBox_27_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_27_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",
layout_VBox_27_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$tW3(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.MessageTextEditorBase",alias:"widget.com.coremedia.blueprint.social.studio.config.editor.text",constructor:MessageTextEditor$,super$$tW3:function(){com.coremedia.blueprint.social.composer.MessageTextEditorBase.prototype.constructor.apply(this,arguments)},requires:["Ext.layout.container.VBox","com.coremedia.blueprint.social.composer.MessageTextEditorBase",
"com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.MessageTextEditorBase",function(MessageTextEditorBase){function MessageTextEditorBase$(config){if(arguments.length<=0)config=null;this.super$pJbq(config);if(AS3.getBindable(this,"property").isRequired())AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"valueChanged$pJbq"))}function valueChanged(ve){var editor=this.queryById(AS3.getBindable(this,"property").getName());var statefulEditor=AS3.as(editor,com.coremedia.ui.mixins.ValidationStateMixin);
if(!ve.getValue()||Ext.String.trim(ve.getValue()).length===0)AS3.setBindable(statefulEditor,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);else AS3.setBindable(statefulEditor,"validationState",undefined)}function getErrorMessage(){if(!AS3.getBindable(this,"bindTo").getValue()){var msg=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","messsage_property_error_empty_text");var message=Ext.String.format(msg,AS3.getBindable(this,"property").getDisplayName());
return message}return null}function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);AS3.getBindable(this,"bindTo").removeChangeListener(AS3.bind(this,"valueChanged$pJbq"))}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.blueprint.social.composer.MessageFieldEditor"],constructor:MessageTextEditorBase$,super$pJbq:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},valueChanged$pJbq:valueChanged,getErrorMessage:getErrorMessage,onDestroy:onDestroy,config:{bindTo:null,
property:null,adapter:null},requires:["Ext.String","Ext.panel.Panel","com.coremedia.blueprint.social.composer.MessageFieldEditor","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin"]}});Ext.define("com.coremedia.blueprint.social.composer.richtext.InternalLinkButton",function(InternalLinkButton){function InternalLinkButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.richtext.InternalLinkButtonBase,{});var defaults_$1=AS3.cast(InternalLinkButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor",
"cminternallink_iconCls")));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cminternallink_text")));AS3.setBindable(config_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cminternallink_tooltip"));config_$1.enableToggle=true;config_$1.toggleHandler=AS3.bind(this,"onToggle");net.jangaroo.ext.Exml.apply(config_$1,config);this.super$0w7G(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.richtext.InternalLinkButtonBase",
alias:"widget.com.coremedia.blueprint.social.composer.richtext.internalLinkButton",constructor:InternalLinkButton$,super$0w7G:function(){com.coremedia.blueprint.social.composer.richtext.InternalLinkButtonBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null},requires:["com.coremedia.blueprint.social.composer.richtext.InternalLinkButtonBase","com.coremedia.ui.ckeditor.CKEditor_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.richtext.InternalLinkButtonBase",function(InternalLinkButtonBase){function InternalLinkButtonBase$(config){if(arguments.length<=0)config=null;this.super$tRJ1(config);if(!AS3.getBindable(this,"ckEditorValueExpression"))throw new AS3.Error("ckEditorValueExpression is not configured.");AS3.getBindable(this,"ckEditorValueExpression").addChangeListener(AS3.bind(this,"configureCKEditor$tRJ1"));this.effectiveReadOnlyExpression$tRJ1=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,
"bindTo"),AS3.getBindable(config,"forceReadOnlyValueExpression"));this.selectionChange$tRJ1()}function onToggle(button,pressed){if(!pressed&&this.internalLinkWindow$tRJ1)this.internalLinkWindow$tRJ1.hide();else this.openWindow$tRJ1()}function getWindow(){if(!this.internalLinkWindow$tRJ1){var windowParent=this.getRenderToContainer$tRJ1();var internalLinkWindowConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindow,{});AS3.setBindable(internalLinkWindowConfig,"bindTo",this.initialConfig.bindTo);
internalLinkWindowConfig.renderTo=windowParent.el;this.internalLinkWindow$tRJ1=new com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindow(internalLinkWindowConfig);this.internalLinkWindow$tRJ1.addListener("beforedestroy",AS3.bind(this,"windowDestroyed$tRJ1"));this.internalLinkWindow$tRJ1.addListener("hide",AS3.bind(this,"windowHide$tRJ1"));AS3.getBindable(this,"richTextWindowGroup").register(this.internalLinkWindow$tRJ1);this.internalLinkWindow$tRJ1.setCKEditor(AS3.getBindable(this,"ckEditorValueExpression").getValue())}return this.internalLinkWindow$tRJ1}
function getRenderToContainer(){return this.findParentBy(function(container){return AS3.is(container,com.coremedia.blueprint.social.composer.MessageTextareaEditor)})}function windowHide(){this.toggle(false)}function openWindow(){this.getWindow().showBy(this,"tl-bl?");this.toggle(true)}function windowDestroyed(){this.internalLinkWindow$tRJ1=null}function configureCKEditor(){var ckEditor=AS3.getBindable(this,"ckEditorValueExpression").getValue();if(ckEditor){ckEditor.on("selectionChange",AS3.bind(this,
"selectionChange$tRJ1"));this.getWindow().setCKEditor(ckEditor)}}function selectionChange(){var ckEditor=AS3.getBindable(this,"ckEditorValueExpression").getValue();var selection=ckEditor&&ckEditor.getSelection();var ascendant=selection&&com.coremedia.ui.ckeditor.AnchorUtil.getSelectedAnchor(selection);this.setDisabled(this.effectiveReadOnlyExpression$tRJ1.getValue()||com.coremedia.ui.ckeditor.AnchorUtil.isLinkWithUrlScheme(ascendant)||com.coremedia.ui.ckeditor.AnchorUtil.isLinkAnchorReference(ascendant))}
function onDestroy(){AS3.getBindable(this,"ckEditorValueExpression").removeChangeListener(AS3.bind(this,"configureCKEditor$tRJ1"));Ext.destroy(this.internalLinkWindow$tRJ1);com.coremedia.ui.components.IconButton.prototype.onDestroy.call(this)}return{extend:"com.coremedia.ui.components.IconButton",internalLinkWindow$tRJ1:null,effectiveReadOnlyExpression$tRJ1:null,constructor:InternalLinkButtonBase$,super$tRJ1:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},
onToggle:onToggle,getWindow:getWindow,getRenderToContainer$tRJ1:getRenderToContainer,windowHide$tRJ1:windowHide,openWindow$tRJ1:openWindow,windowDestroyed$tRJ1:windowDestroyed,configureCKEditor$tRJ1:configureCKEditor,selectionChange$tRJ1:selectionChange,onDestroy:onDestroy,config:{richTextWindowGroup:null,ckEditorValueExpression:null},requires:["AS3.Error","Ext","com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindow","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.ui.ckeditor.AnchorUtil",
"com.coremedia.ui.components.IconButton"],uses:["com.coremedia.blueprint.social.composer.MessageTextareaEditor"]}});Ext.define("com.coremedia.blueprint.social.composer.richtext.MessageRichtextArea",function(MessageRichtextArea){function MessageRichtextArea$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.composer.richtext.MessageRichtextAreaBase,{});var defaults_$1=AS3.cast(MessageRichtextArea,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"height",80);var ui_BindPropertyPlugin_20_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_20_5_$1.bindTo=AS3.getBindable(config,"bindTo");ui_BindPropertyPlugin_20_5_$1.bidirectional=true;var ui_ResizablePlugin_21_5_$1=AS3.cast(com.coremedia.ui.plugins.ResizablePlugin,{});AS3.setBindable(ui_ResizablePlugin_21_5_$1,"fitComponent",true);var ui_StatefulResizer_23_9_$1=AS3.cast(com.coremedia.ui.components.StatefulResizer,{});ui_StatefulResizer_23_9_$1.minHeight=30;ui_StatefulResizer_23_9_$1.handles="s";ui_StatefulResizer_23_9_$1.pinned=true;ui_StatefulResizer_23_9_$1.dynamic=
false;AS3.setBindable(ui_StatefulResizer_23_9_$1,"embed",false);AS3.setBindable(ui_StatefulResizer_23_9_$1,"horizontalResize",false);ui_ResizablePlugin_21_5_$1.resizableConfig=ui_StatefulResizer_23_9_$1;config_$1.plugins=[ui_BindPropertyPlugin_20_5_$1,ui_ResizablePlugin_21_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gJzM(config_$1)}return{extend:"com.coremedia.blueprint.social.composer.richtext.MessageRichtextAreaBase",alias:"widget.com.coremedia.blueprint.social.studio.config.messageRichtextArea",
constructor:MessageRichtextArea$,super$gJzM:function(){com.coremedia.blueprint.social.composer.richtext.MessageRichtextAreaBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.social.composer.richtext.MessageRichtextAreaBase","com.coremedia.ui.components.StatefulResizer","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.ResizablePlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.composer.richtext.MessageRichtextAreaBase",function(MessageRichtextAreaBase){function MessageRichtextAreaBase$(config){if(arguments.length<=0)config=null;this.super$pHz7(config)}return{extend:"com.coremedia.ui.ckeditor.RichTextArea",constructor:MessageRichtextAreaBase$,super$pHz7:function(){com.coremedia.ui.ckeditor.RichTextArea.prototype.constructor.apply(this,arguments)},config:{bindTo:null},requires:["com.coremedia.ui.ckeditor.RichTextArea"]}});Ext.define("com.coremedia.blueprint.social.CustomStyles",function(CustomStyles){function CustomStyles$(){}return{constructor:CustomStyles$,statics:{READONLY_TITLE:"color:#646060 !important;font-weight:bold;",READONLY_TEXT:"color:#646060 !important;",READONLY_EMPTY_TEXT:"color:#646060 !important;font-style:italic;",TITLE_MEDIUM:"font-size: 16px;font-weight: bold;",MESSAGE_DISPLAY_FIELD:"margin-bottom: 12px;"}}});Ext.define("com.coremedia.blueprint.social.ISocialHubService",function(ISocialHubService){return{}});Ext.define("com.coremedia.blueprint.social.messages.AssetsDisplayField",function(AssetsDisplayField){function AssetsDisplayField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.AssetsDisplayFieldBase,{});var defaults_$1=AS3.cast(AssetsDisplayField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"style",com.coremedia.blueprint.social.CustomStyles.MESSAGE_DISPLAY_FIELD);var displayField_23_5_$1=AS3.cast(Ext.form.field.Display,
{});AS3.setBindable(displayField_23_5_$1,"value",this.localizeFieldName(AS3.getBindable(config,"messageContainerDescriptor").getPropertyName()));AS3.setBindable(displayField_23_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TITLE);displayField_23_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindVisibilityPlugin_27_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_27_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,
"messageContainerDescriptor").showLabel());displayField_23_5_$1.plugins=[ui_BindVisibilityPlugin_27_9_$1];var editor_LinkListGridPanel_31_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel,{});editor_LinkListGridPanel_31_5_$1.itemId="assetLinkList";editor_LinkListGridPanel_31_5_$1.enableColumnMove=false;AS3.setBindable(editor_LinkListGridPanel_31_5_$1,"showThumbnails",true);AS3.setBindable(editor_LinkListGridPanel_31_5_$1,"selectedValuesExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]));
AS3.setBindable(editor_LinkListGridPanel_31_5_$1,"hideDropArea",true);AS3.setBindable(editor_LinkListGridPanel_31_5_$1,"readOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true));var editor_MemoryLinkListWrapper_38_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper,{});AS3.setBindable(editor_MemoryLinkListWrapper_38_9_$1,"linksVE",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_LinkListGridPanel_31_5_$1,"linkListWrapper",new com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper(editor_MemoryLinkListWrapper_38_9_$1));
config_$1.items=[displayField_23_5_$1,editor_LinkListGridPanel_31_5_$1];var ui_BindVisibilityPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});AS3.setBindable(ui_BindVisibilityPlugin_43_5_$1,"transformer",function(media){return media.length>0});ui_BindVisibilityPlugin_43_5_$1.bindTo=AS3.getBindable(config,"bindTo");var ui_VerticalSpacingPlugin_45_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_45_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_25);
config_$1.plugins=[ui_BindVisibilityPlugin_43_5_$1,ui_VerticalSpacingPlugin_45_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var layout_VBox_48_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_48_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_48_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FQrj(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.AssetsDisplayFieldBase",alias:"widget.com.coremedia.blueprint.social.studio.config.message.field.assetlist",
constructor:AssetsDisplayField$,super$FQrj:function(){com.coremedia.blueprint.social.messages.AssetsDisplayFieldBase.prototype.constructor.apply(this,arguments)},statics:{MEDIA_CONTAINER_ITEM_ID:"postMediaContainer"},requires:["Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.AssetsDisplayFieldBase","com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel","com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper","com.coremedia.ui.bem.SpacingBEMEntities",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.CustomStyles"]}});Ext.define("com.coremedia.blueprint.social.messages.AssetsDisplayFieldBase",function(AssetsDisplayFieldBase){function AssetsDisplayFieldBase$(config){if(arguments.length<=0)config=null;this.super$lgdU(config)}return{extend:"com.coremedia.blueprint.social.messages.MessageDisplayFieldBase",constructor:AssetsDisplayFieldBase$,super$lgdU:function(){com.coremedia.blueprint.social.messages.MessageDisplayFieldBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.social.messages.MessageDisplayFieldBase"]}});Ext.define("com.coremedia.blueprint.social.messages.ChoiceDisplayField",function(ChoiceDisplayField){function ChoiceDisplayField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessageDisplayFieldBase,{});var defaults_$1=AS3.cast(ChoiceDisplayField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"style",com.coremedia.blueprint.social.CustomStyles.MESSAGE_DISPLAY_FIELD);var displayField_21_5_$1=AS3.cast(Ext.form.field.Display,
{});AS3.setBindable(displayField_21_5_$1,"value",this.localizeFieldName(AS3.getBindable(config,"messageContainerDescriptor").getPropertyName()));AS3.setBindable(displayField_21_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TITLE);displayField_21_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindVisibilityPlugin_24_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_24_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,
"messageContainerDescriptor").showLabel());displayField_21_5_$1.plugins=[ui_BindVisibilityPlugin_24_9_$1];var displayField_28_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_28_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TEXT);displayField_28_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindPropertyPlugin_30_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_30_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;
ui_BindPropertyPlugin_30_9_$1.bindTo=AS3.getBindable(config,"bindTo");displayField_28_5_$1.plugins=[ui_BindPropertyPlugin_30_9_$1];config_$1.items=[displayField_21_5_$1,displayField_28_5_$1];var ui_VerticalSpacingPlugin_36_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_36_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_25);config_$1.plugins=[ui_VerticalSpacingPlugin_36_5_$1];var layout_VBox_39_5_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_39_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_39_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$LbgB(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.MessageDisplayFieldBase",alias:"widget.com.coremedia.blueprint.social.studio.config.message.field.choice",constructor:ChoiceDisplayField$,super$LbgB:function(){com.coremedia.blueprint.social.messages.MessageDisplayFieldBase.prototype.constructor.apply(this,arguments)},
requires:["Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.MessageDisplayFieldBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.CustomStyles"]}});Ext.define("com.coremedia.blueprint.social.messages.CounterLabel",function(CounterLabel){function CounterLabel$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.CounterLabelBase,{});var defaults_$1=AS3.cast(CounterLabel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"dock","bottom");var ui_IconDisplayField_19_5_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_19_5_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.EMBEDDED.getSkin());AS3.setBindable(ui_IconDisplayField_19_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.getIcon(AS3.getBindable(config,"adapter"),AS3.getBindable(config,"propertyName"))));var displayField_21_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_21_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.EMBEDDED.getSkin());var ui_BindPropertyPlugin_23_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_23_9_$1.transformer=function(count){return count+" "+this$.getLabel(AS3.getBindable(config,"adapter"),AS3.getBindable(config,"propertyName"))};ui_BindPropertyPlugin_23_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"message")).extendBy(AS3.getBindable(config,"propertyName"));displayField_21_5_$1.plugins=[ui_BindPropertyPlugin_23_9_$1];var container_28_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_28_5_$1,
"width",12);config_$1.items=[ui_IconDisplayField_19_5_$1,displayField_21_5_$1,container_28_5_$1];var layout_HBox_31_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_31_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_31_5_$1);var ui_BindVisibilityPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});AS3.setBindable(ui_BindVisibilityPlugin_34_5_$1,"transformer",function(count){return count>0});ui_BindVisibilityPlugin_34_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,
"message")).extendBy(AS3.getBindable(config,"propertyName"));config_$1.plugins=[ui_BindVisibilityPlugin_34_5_$1];var layout_HBox_39_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_39_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_39_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$90JA(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.CounterLabelBase",alias:"widget.com.coremedia.blueprint.social.studio.config.counterLabel",
constructor:CounterLabel$,super$90JA:function(){com.coremedia.blueprint.social.messages.CounterLabelBase.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox","com.coremedia.blueprint.social.messages.CounterLabelBase","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.DisplayFieldSkin",
"com.coremedia.ui.skins.IconDisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.messages.CounterLabelBase",function(CounterLabelBase){function CounterLabelBase$(config){if(arguments.length<=0)config=null;this.super$m0gx(config)}function getLabel(adapter,propertyName){return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub",propertyName+"_"+adapter.getType().toLowerCase()+"_text")}function getIcon(adapter,propertyName){return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub",propertyName+
"_"+adapter.getType().toLowerCase()+"_icon")}return{extend:"Ext.container.Container",constructor:CounterLabelBase$,super$m0gx:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getLabel:getLabel,getIcon:getIcon,config:{message:null,adapter:null,propertyName:null},requires:["Ext.container.Container"]}});Ext.define("com.coremedia.blueprint.social.messages.DateDisplayField",function(DateDisplayField){function DateDisplayField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessageDisplayFieldBase,{});var defaults_$1=AS3.cast(DateDisplayField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"style",com.coremedia.blueprint.social.CustomStyles.MESSAGE_DISPLAY_FIELD);var displayField_21_5_$1=AS3.cast(Ext.form.field.Display,
{});AS3.setBindable(displayField_21_5_$1,"value",this.localizeFieldName(AS3.getBindable(config,"messageContainerDescriptor").getPropertyName()));AS3.setBindable(displayField_21_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TITLE);displayField_21_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindVisibilityPlugin_24_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_24_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,
"messageContainerDescriptor").showLabel());displayField_21_5_$1.plugins=[ui_BindVisibilityPlugin_24_9_$1];var displayField_28_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_28_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TEXT);displayField_28_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindPropertyPlugin_30_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_30_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;
ui_BindPropertyPlugin_30_9_$1.bindTo=AS3.getBindable(config,"bindTo");displayField_28_5_$1.plugins=[ui_BindPropertyPlugin_30_9_$1];config_$1.items=[displayField_21_5_$1,displayField_28_5_$1];var ui_VerticalSpacingPlugin_36_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_36_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_25);config_$1.plugins=[ui_VerticalSpacingPlugin_36_5_$1];var layout_VBox_39_5_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_39_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_39_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vzMO(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.MessageDisplayFieldBase",alias:"widget.com.coremedia.blueprint.social.studio.config.message.field.date",constructor:DateDisplayField$,super$vzMO:function(){com.coremedia.blueprint.social.messages.MessageDisplayFieldBase.prototype.constructor.apply(this,arguments)},
requires:["Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.MessageDisplayFieldBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.CustomStyles"]}});Ext.define("com.coremedia.blueprint.social.messages.DynamicMessageContainer",function(DynamicMessageContainer){function DynamicMessageContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.DynamicMessageContainerBase,{});var defaults_$1=AS3.cast(DynamicMessageContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"style",this.getStyle(AS3.getBindable(config,"adapter"),AS3.getBindable(config,"message")));
var local_MessageFooter_15_5_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessageFooter,{});AS3.setBindable(local_MessageFooter_15_5_$1,"message",AS3.getBindable(config,"message"));AS3.setBindable(local_MessageFooter_15_5_$1,"adapter",AS3.getBindable(config,"adapter"));var container_16_5_$1=AS3.cast(Ext.container.Container,{});container_16_5_$1.ui=net.jangaroo.ext.Exml.asString(this.resolveSkin(AS3.getBindable(config,"adapter"),AS3.getBindable(config,"message")));container_16_5_$1.itemId="fieldWrapper";
var layout_VBox_18_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_18_9_$1,"align","stretch");AS3.setBindable(container_16_5_$1,"layout",layout_VBox_18_9_$1);config_$1.items=[local_MessageFooter_15_5_$1,container_16_5_$1];var layout_VBox_23_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_23_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_23_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$043d(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.DynamicMessageContainerBase",
alias:"widget.com.coremedia.blueprint.social.studio.config.dynamicMessageContainer",constructor:DynamicMessageContainer$,super$043d:function(){com.coremedia.blueprint.social.messages.DynamicMessageContainerBase.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.DynamicMessageContainerBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.messages.MessageFooter"]}});Ext.define("com.coremedia.blueprint.social.messages.DynamicMessageContainerBase",function(DynamicMessageContainerBase){function DynamicMessageContainerBase$(config){if(arguments.length<=0)config=null;this.super$jl1O(config)}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);var target=AS3.as(this.queryById("fieldWrapper"),Ext.container.Container);var properties=AS3.getBindable(this,"adapter").getMessageProperties();var pros=properties.concat([]).reverse();for(var $1=0;$1<
pros.length;++$1){var prop=pros[$1];var baseConfig={};var propertyName=prop.getName();var descriptor=this.findCustomDescriptor$jl1O(propertyName);if(!descriptor)descriptor=this.createDefaultDescriptor$jl1O(prop);if(descriptor.isExcluded())continue;var value=descriptor.getValue();if(!value)continue;baseConfig.xtype=this.PROPERTY_EDITOR_XTYPE$jl1O+descriptor.getType().toLowerCase();baseConfig.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(descriptor.getValue());baseConfig.messageContainerDescriptor=
descriptor;var cmp=Ext.ComponentManager.create(baseConfig);target.insert(0,cmp)}}function findCustomDescriptor(name){var descriptors=AS3.getBindable(this,"message").getMessageContainerDescriptors();for(var $1=0;$1<descriptors.length;++$1){var desc=descriptors[$1];if(desc.getPropertyName()===name)return desc}return null}function createDefaultDescriptor(prop){var data={propertyName:prop.getName(),type:prop.getPropertyType(),showLabel:true,value:com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(this,
"message")).extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PROPERTIES).extendBy(prop.getName()).getValue(),excluded:false};return new com.coremedia.blueprint.social.beans.MessageContainerDescriptor(data)}function resolveSkin(adapter,msg){if(msg.getMessageState()===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.STATE_SENT){if(adapter.isNativeHistory())return com.coremedia.ui.skins.ContainerSkin.DEFAULT.getSkin();return com.coremedia.ui.skins.ContainerSkin.DARK_200.getSkin()}return com.coremedia.ui.skins.ContainerSkin.GRID_200.getSkin()}
function getStyle(adapter,msg){if(msg.getMessageState()===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.STATE_SENT&&adapter.isNativeHistory())return"margin-bottom: 24px;";return"transition: box-shadow 0.25s;box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.6);border-radius: 2px;border-width: 0;border-style: solid;margin: 2px;background-color:#fff;margin-bottom: 24px;"}return{extend:"Ext.container.Container",PROPERTY_EDITOR_XTYPE$jl1O:"com.coremedia.blueprint.social.studio.config.message.field.",
constructor:DynamicMessageContainerBase$,super$jl1O:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,findCustomDescriptor$jl1O:findCustomDescriptor,createDefaultDescriptor$jl1O:createDefaultDescriptor,resolveSkin:resolveSkin,getStyle:getStyle,config:{message:null,adapter:null},requires:["Ext.ComponentManager","Ext.container.Container","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.skins.ContainerSkin"],uses:["com.coremedia.blueprint.social.beans.MessageContainerDescriptor",
"com.coremedia.blueprint.social.beans.SocialHubPropertyNames"]}});Ext.define("com.coremedia.blueprint.social.messages.MarkupDisplayField",function(MarkupDisplayField){function MarkupDisplayField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.MarkupDisplayFieldBase,{});var defaults_$1=AS3.cast(MarkupDisplayField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"style",com.coremedia.blueprint.social.CustomStyles.MESSAGE_DISPLAY_FIELD);var displayField_20_5_$1=AS3.cast(Ext.form.field.Display,
{});AS3.setBindable(displayField_20_5_$1,"value",this.localizeFieldName(AS3.getBindable(config,"messageContainerDescriptor").getPropertyName()));AS3.setBindable(displayField_20_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TITLE);displayField_20_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindVisibilityPlugin_23_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_23_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,
"messageContainerDescriptor").showLabel());displayField_20_5_$1.plugins=[ui_BindVisibilityPlugin_23_9_$1];var displayField_27_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_27_5_$1,"html",true);displayField_27_5_$1.itemId="markup";AS3.setBindable(displayField_27_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TEXT);displayField_27_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindPropertyPlugin_29_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_29_9_$1.bindTo=AS3.getBindable(config,"bindTo");displayField_27_5_$1.plugins=[ui_BindPropertyPlugin_29_9_$1];config_$1.items=[displayField_20_5_$1,displayField_27_5_$1];var ui_VerticalSpacingPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_34_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_25);config_$1.plugins=[ui_VerticalSpacingPlugin_34_5_$1];var layout_VBox_37_5_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_37_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_37_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2W2I(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.MarkupDisplayFieldBase",alias:"widget.com.coremedia.blueprint.social.studio.config.message.field.markup",constructor:MarkupDisplayField$,super$2W2I:function(){com.coremedia.blueprint.social.messages.MarkupDisplayFieldBase.prototype.constructor.apply(this,arguments)},
requires:["Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.MarkupDisplayFieldBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.CustomStyles"]}});Ext.define("com.coremedia.blueprint.social.messages.MarkupDisplayFieldBase",function(MarkupDisplayFieldBase){function MarkupDisplayFieldBase$(config){if(arguments.length<=0)config=null;this.super$CkA3(config)}function loadScript(path,callback){var done=false;var scr=window.document.createElement("script");scr.onload=handleLoad;scr.onreadystatechange=handleReadyStateChange;scr.onerror=handleError;scr.src=path;window.document.getElementsByTagName("head")[0].appendChild(scr);function handleLoad(){if(!done){done=
true;callback(path,"ok")}}function handleReadyStateChange(){var state;if(!done){state=scr.readyState;if(state==="complete")handleLoad()}}function handleError(){if(!done){done=true;callback(path,"error")}}}function afterRender(){com.coremedia.blueprint.social.messages.MessageDisplayFieldBase.prototype.afterRender.call(this);var displayField=AS3.as(this.queryById("markup"),Ext.form.field.Display);var el=displayField.el.dom;if(window.ResizeObserver)(new window.ResizeObserver(AS3.bind(this,"outputsize$CkA3")))["observe"](el);
else window.setTimeout(AS3.bind(this,"outputsize$CkA3"),2E3);var that=this;if(AS3.getBindable(this,"messageContainerDescriptor")&&AS3.getBindable(this,"messageContainerDescriptor").getScripts()&&AS3.getBindable(this,"messageContainerDescriptor").getScripts().length>0)for(var $1=0,$2=AS3.getBindable(this,"messageContainerDescriptor").getScripts();$1<$2.length;++$1){var script=$2[$1];var url=script;if(url.indexOf("?")===-1)url=url+"?"+(new Date).time;this.loadScript$CkA3(url,AS3.bind(this,"refresh$CkA3"))}}
function refresh(){var displayField=AS3.as(this.queryById("markup"),Ext.form.field.Display);displayField.setHeight(displayField.getHeight())}function outputsize(){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){var displayField=AS3.as(this$.queryById("markup"),Ext.form.field.Display);if(displayField){var div=displayField.el.dom;var height=div.offsetHeight;displayField.setHeight(height)}if(AS3.getBindable(this$,"messageContainerDescriptor")&&AS3.getBindable(this$,"messageContainerDescriptor").getScriplets()&&
AS3.getBindable(this$,"messageContainerDescriptor").getScriplets().length>0)for(var $1=0,$2=AS3.getBindable(this$,"messageContainerDescriptor").getScriplets();$1<$2.length;++$1){var scriptlet=$2[$1];window.eval(scriptlet)}})}return{extend:"com.coremedia.blueprint.social.messages.MessageDisplayFieldBase",constructor:MarkupDisplayFieldBase$,super$CkA3:function(){com.coremedia.blueprint.social.messages.MessageDisplayFieldBase.prototype.constructor.apply(this,arguments)},loadScript$CkA3:loadScript,afterRender:afterRender,
refresh$CkA3:refresh,outputsize$CkA3:outputsize,requires:["Ext.form.field.Display","com.coremedia.blueprint.social.messages.MessageDisplayFieldBase","com.coremedia.ui.util.EventUtil"]}});Ext.define("com.coremedia.blueprint.social.messages.MessageDisplayFieldBase",function(MessageDisplayFieldBase){function MessageDisplayFieldBase$(config){if(arguments.length<=0)config=null;this.super$Wvo_(config)}function localizeFieldName(name){var label=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","message_property_"+name);if(label)return label;return MessageDisplayFieldBase.camelizeWithWhitespace(name)}function camelizeWithWhitespace$static(str){return str.replace(/(?:^\w|[A-Z]|\b\w)/g,
function(letter,index){return letter.toUpperCase()}).replace(/\s+/g," ")}return{extend:"Ext.container.Container",constructor:MessageDisplayFieldBase$,super$Wvo_:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},localizeFieldName:localizeFieldName,config:{bindTo:null,messageContainerDescriptor:null},statics:{camelizeWithWhitespace:camelizeWithWhitespace$static},requires:["Ext.container.Container"]}});Ext.define("com.coremedia.blueprint.social.messages.MessageFooter",function(MessageFooter){function MessageFooter$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessageFooterBase,{});var defaults_$1=AS3.cast(MessageFooter,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"dock","bottom");config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.DARK_200.getSkin());AS3.setBindable(config_$1,
"style",this.getStyle(AS3.getBindable(config,"message")));var container_24_5_$1=AS3.cast(Ext.container.Container,{});var displayField_26_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_26_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());AS3.setBindable(displayField_26_9_$1,"html",true);AS3.setBindable(displayField_26_9_$1,"value","\x3cb\x3e"+this.getDateLabel(AS3.getBindable(config,"message"))+"\x3c/b\x3e");var displayField_27_9_$1=AS3.cast(Ext.form.field.Display,
{});var ui_BindPropertyPlugin_29_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_29_13_$1.transformer=AS3.bind(this,"transformDate");ui_BindPropertyPlugin_29_13_$1.componentProperty="value";ui_BindPropertyPlugin_29_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PUBLICATION_DATE,AS3.getBindable(config,"message"));var ui_BindVisibilityPlugin_32_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});AS3.setBindable(ui_BindVisibilityPlugin_32_13_$1,"transformer",function(state){return state===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.STATE_SCHEDULED});ui_BindVisibilityPlugin_32_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"message")).extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_STATE);displayField_27_9_$1.plugins=[ui_BindPropertyPlugin_29_13_$1,ui_BindVisibilityPlugin_32_13_$1];var displayField_37_9_$1=
AS3.cast(Ext.form.field.Display,{});var ui_BindPropertyPlugin_39_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_39_13_$1.transformer=AS3.bind(this,"transformDate");ui_BindPropertyPlugin_39_13_$1.componentProperty="value";ui_BindPropertyPlugin_39_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"message")).extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PUBLICATION_DATE);var ui_BindVisibilityPlugin_42_13_$1=
AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});AS3.setBindable(ui_BindVisibilityPlugin_42_13_$1,"transformer",function(state){return state===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.STATE_SENT});ui_BindVisibilityPlugin_42_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"message")).extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_STATE);displayField_37_9_$1.plugins=[ui_BindPropertyPlugin_39_13_$1,
ui_BindVisibilityPlugin_42_13_$1];container_24_5_$1.items=[displayField_26_9_$1,displayField_27_9_$1,displayField_37_9_$1];var layout_VBox_49_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_49_9_$1,"align","stretch");AS3.setBindable(container_24_5_$1,"layout",layout_VBox_49_9_$1);var container_52_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_52_5_$1,"width",12);var messages_CounterLabel_54_5_$1=AS3.cast(com.coremedia.blueprint.social.messages.CounterLabel,
{});AS3.setBindable(messages_CounterLabel_54_5_$1,"adapter",AS3.getBindable(config,"adapter"));AS3.setBindable(messages_CounterLabel_54_5_$1,"message",AS3.getBindable(config,"message"));AS3.setBindable(messages_CounterLabel_54_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_SHARE_COUNT));var messages_CounterLabel_56_5_$1=AS3.cast(com.coremedia.blueprint.social.messages.CounterLabel,{});AS3.setBindable(messages_CounterLabel_56_5_$1,
"adapter",AS3.getBindable(config,"adapter"));AS3.setBindable(messages_CounterLabel_56_5_$1,"message",AS3.getBindable(config,"message"));AS3.setBindable(messages_CounterLabel_56_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_LIKE_COUNT));var messages_CounterLabel_58_5_$1=AS3.cast(com.coremedia.blueprint.social.messages.CounterLabel,{});AS3.setBindable(messages_CounterLabel_58_5_$1,"adapter",AS3.getBindable(config,"adapter"));AS3.setBindable(messages_CounterLabel_58_5_$1,
"message",AS3.getBindable(config,"message"));AS3.setBindable(messages_CounterLabel_58_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_DISLIKE_COUNT));var messages_CounterLabel_60_5_$1=AS3.cast(com.coremedia.blueprint.social.messages.CounterLabel,{});AS3.setBindable(messages_CounterLabel_60_5_$1,"adapter",AS3.getBindable(config,"adapter"));AS3.setBindable(messages_CounterLabel_60_5_$1,"message",AS3.getBindable(config,"message"));
AS3.setBindable(messages_CounterLabel_60_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_VIEW_COUNT));var messages_CounterLabel_62_5_$1=AS3.cast(com.coremedia.blueprint.social.messages.CounterLabel,{});AS3.setBindable(messages_CounterLabel_62_5_$1,"adapter",AS3.getBindable(config,"adapter"));AS3.setBindable(messages_CounterLabel_62_5_$1,"message",AS3.getBindable(config,"message"));AS3.setBindable(messages_CounterLabel_62_5_$1,
"propertyName",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_COMMENT_COUNT));var container_65_5_$1=AS3.cast(Ext.container.Container,{});container_65_5_$1.flex=1;var button_67_5_$1=AS3.cast(Ext.button.Button,{});button_67_5_$1.itemId="openInBrowserButton";button_67_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());button_67_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"PreviewPanelToolbar_openInBrowser_btn_tooltip"));AS3.setBindable(button_67_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","open_in_browser")));AS3.setBindable(button_67_5_$1,"scale","small");AS3.setBindable(button_67_5_$1,"handler",AS3.bind(this,"openInTab"));var ui_BindVisibilityPlugin_74_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});AS3.setBindable(ui_BindVisibilityPlugin_74_9_$1,"transformer",function(msg){return msg.getUrl()!==
null&&msg.getUrl()!==undefined&&msg.getUrl()!==""});ui_BindVisibilityPlugin_74_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"message"));button_67_5_$1.plugins=[ui_BindVisibilityPlugin_74_9_$1];var button_79_5_$1=AS3.cast(Ext.button.Button,{});button_79_5_$1.itemId="deleteButton";button_79_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.MATERIAL_SECONDARY.getSkin());button_79_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub",
"delete_post_title"));AS3.setBindable(button_79_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","delete_post_title")));AS3.setBindable(button_79_5_$1,"scale","small");AS3.setBindable(button_79_5_$1,"handler",AS3.bind(this,"deleteFromScheduler"));var ui_BindVisibilityPlugin_86_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});AS3.setBindable(ui_BindVisibilityPlugin_86_9_$1,"transformer",function(state){return state===
com.coremedia.blueprint.social.beans.SocialHubPropertyNames.STATE_SCHEDULED});ui_BindVisibilityPlugin_86_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"message")).extendBy(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_STATE);button_79_5_$1.plugins=[ui_BindVisibilityPlugin_86_9_$1];config_$1.items=[container_24_5_$1,container_52_5_$1,messages_CounterLabel_54_5_$1,messages_CounterLabel_56_5_$1,messages_CounterLabel_58_5_$1,messages_CounterLabel_60_5_$1,
messages_CounterLabel_62_5_$1,container_65_5_$1,button_67_5_$1,button_79_5_$1];var ui_BindVisibilityPlugin_93_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_93_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.blueprint.social.beans.SocialHubPropertyNames.MESSAGE_PUBLICATION_DATE,AS3.getBindable(config,"message"));config_$1.plugins=[ui_BindVisibilityPlugin_93_5_$1];var layout_HBox_97_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_97_5_$1,
"align","bottom");AS3.setBindable(config_$1,"layout",layout_HBox_97_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kw1G(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.MessageFooterBase",alias:"widget.com.coremedia.blueprint.social.studio.config.messageFooter",constructor:MessageFooter$,super$kw1G:function(){com.coremedia.blueprint.social.messages.MessageFooterBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","Ext.container.Container",
"Ext.form.field.Display","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.MessageFooterBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.beans.SocialHubPropertyNames","com.coremedia.blueprint.social.messages.CounterLabel"]}});Ext.define("com.coremedia.blueprint.social.messages.MessageFooterBase",function(MessageFooterBase){function MessageFooterBase$(config){if(arguments.length<=0)config=null;this.super$SdD1(config)}function getShareLabel(adapter){return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","shares_"+adapter.getType().toLowerCase()+"_text")}function getShareIcon(adapter){return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","shares_"+adapter.getType().toLowerCase()+
"_icon")}function getLikesLabel(adapter){return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","likes_"+adapter.getType().toLowerCase()+"_text")}function getDislikesLabel(adapter){return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","dislikes_"+adapter.getType().toLowerCase()+"_text")}function getFavoritesIcon(adapter){return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","likes_"+adapter.getType().toLowerCase()+"_icon")}
function openInTab(){var url=AS3.getBindable(this,"message").getUrl();window.open(url,"_blank")}function transformDate(date){var format=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dateFormat");return Ext.Date.format(date,format)}function getDateLabel(msg){if(msg.getMessageState()===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.STATE_SENT)return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","message_footer_publication_date");
return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","message_footer_scheduled_date")}function deleteFromScheduler(){var this$=this;var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub","delete_post_title");var msg=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub","delete_post_msg");com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,msg,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_delete_buttonText"),function(btn){if(btn==="ok"){var adapter=AS3.as(AS3.getBindable(this$,"message").getAdapter(),com.coremedia.blueprint.social.beans.SocialHubAdapterImpl);AS3.getBindable(this$,"message").deleteFromScheduler(function(){adapter.invalidate()});var parent=AS3.as(this$.findParentByType(com.coremedia.blueprint.social.messages.MessagesContainer.xtype),com.coremedia.blueprint.social.messages.MessagesContainer);parent.reload()}})}function getStyle(msg){var style="border-bottom: solid 1px #dcdbdb;background-color:#E6E6E6;";
if(msg.getMessageState()===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.STATE_SENT)style="border-bottom: solid 1px #dcdbdb;background-color:#F1F1F1;";return style}return{extend:"Ext.container.Container",constructor:MessageFooterBase$,super$SdD1:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getShareLabel:getShareLabel,getShareIcon:getShareIcon,getLikesLabel:getLikesLabel,getDislikesLabel:getDislikesLabel,getFavoritesIcon:getFavoritesIcon,openInTab:openInTab,
transformDate:transformDate,getDateLabel:getDateLabel,deleteFromScheduler:deleteFromScheduler,getStyle:getStyle,config:{message:null,adapter:null},requires:["Ext.Date","Ext.container.Container","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.social.beans.SocialHubAdapterImpl","com.coremedia.blueprint.social.beans.SocialHubPropertyNames","com.coremedia.blueprint.social.messages.MessagesContainer"]}});Ext.define("com.coremedia.blueprint.social.messages.MessagesContainer",function(MessagesContainer){function MessagesContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessagesContainerBase,{});var defaults_$1=AS3.cast(MessagesContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var container_26_5_$1=AS3.cast(Ext.container.Container,{});container_26_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_100.getSkin());
var displayField_28_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_28_9_$1,"value",AS3.getBindable(config,"title"));displayField_28_9_$1.ui=net.jangaroo.ext.Exml.asString(null);AS3.setBindable(displayField_28_9_$1,"style",com.coremedia.blueprint.social.CustomStyles.TITLE_MEDIUM);var displayField_29_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_29_9_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channel_queue_subtitle"));
var ui_BindVisibilityPlugin_31_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_31_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"messageType")===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SCHEDULED_MESSAGES);displayField_29_9_$1.plugins=[ui_BindVisibilityPlugin_31_13_$1];var container_34_9_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_34_9_$1,"height",12);var displayField_35_9_$1=
AS3.cast(Ext.form.field.Display,{});displayField_35_9_$1.ui=net.jangaroo.ext.Exml.asString(null);AS3.setBindable(displayField_35_9_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_EMPTY_TEXT);AS3.setBindable(displayField_35_9_$1,"value",this.getEmptyLabel(AS3.getBindable(config,"messageType")));var ui_BindVisibilityPlugin_39_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});AS3.setBindable(ui_BindVisibilityPlugin_39_13_$1,"transformer",function(messages){return messages.length===
0});ui_BindVisibilityPlugin_39_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"adapter")).extendBy(AS3.getBindable(config,"messageType"));displayField_35_9_$1.plugins=[ui_BindVisibilityPlugin_39_13_$1];container_26_5_$1.items=[displayField_28_9_$1,displayField_29_9_$1,container_34_9_$1,displayField_35_9_$1];var layout_VBox_45_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(container_26_5_$1,"layout",layout_VBox_45_9_$1);var container_48_5_$1=
AS3.cast(Ext.container.Container,{});container_48_5_$1.itemId=net.jangaroo.ext.Exml.asString(MessagesContainer.MESSAGES_CONTAINER_ITEM_ID);AS3.setBindable(container_48_5_$1,"style","padding: 2px;");container_48_5_$1.items=[];var layout_VBox_53_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_53_9_$1,"align","stretch");AS3.setBindable(container_48_5_$1,"layout",layout_VBox_53_9_$1);config_$1.items=[container_26_5_$1,container_48_5_$1];var layout_VBox_58_5_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_58_5_$1,"align","stretch");AS3.setBindable(layout_VBox_58_5_$1,"pack","center");AS3.setBindable(config_$1,"layout",layout_VBox_58_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xUbZ(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.MessagesContainerBase",alias:"widget.com.coremedia.blueprint.social.studio.config.messagesContainer",constructor:MessagesContainer$,super$xUbZ:function(){com.coremedia.blueprint.social.messages.MessagesContainerBase.prototype.constructor.apply(this,
arguments)},config:{title:null},statics:{MESSAGES_CONTAINER_ITEM_ID:"messagesContainer"},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.MessagesContainerBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.CustomStyles","com.coremedia.blueprint.social.beans.SocialHubPropertyNames"]}});Ext.define("com.coremedia.blueprint.social.messages.MessagesContainerBase",function(MessagesContainerBase){function MessagesContainerBase$(config){if(arguments.length<=0)config=null;this.super$O$hK(config);this.target$O$hK=AS3.as(this.queryById(com.coremedia.blueprint.social.messages.MessagesContainer.MESSAGES_CONTAINER_ITEM_ID),Ext.container.Container)}function afterRender(){var this$=this;Ext.container.Container.prototype.afterRender.call(this);com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.reload(false)})}
function reload(invalidate){if(arguments.length<=0)invalidate=true;this.clear();if(invalidate)AS3.getBindable(this,"adapter").invalidate(AS3.bind(this,"loadMessages$O$hK"));else this.loadMessages$O$hK(false)}function clear(){this.target$O$hK.removeAll()}function loadMessages(invalidate){if(arguments.length<=0)invalidate=true;if(invalidate)this.invalidateMessages$O$hK();else this.loadMsgs$O$hK()}function invalidateMessages(){var $2;for(var $1 in $2=AS3.getBindable(this,"adapter").get(AS3.getBindable(this,
"messageType"))){var message=$2[$1];message.invalidate()}this.loadMsgs$O$hK()}function loadMsgs(){var this$=this;com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var result=[];var $2;for(var $1 in $2=AS3.getBindable(this$,"adapter").get(AS3.getBindable(this$,"messageType"))){var message=$2[$1];if(!message.isLoaded()){message.load();return undefined}result.push(message)}return result}).loadValue(function(msgs){var $2;for(var $1 in $2=AS3.getBindable(this$,"adapter").get(AS3.getBindable(this$,
"messageType"))){var message=$2[$1];this$.loadMessage$O$hK(message)}})}function loadMessage(message){if(AS3.getBindable(this,"messageType")===com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SCHEDULED_MESSAGES)this.renderDate$O$hK(message);var dynamicMessage=AS3.cast(com.coremedia.blueprint.social.messages.DynamicMessageContainer,{});AS3.setBindable(dynamicMessage,"adapter",AS3.getBindable(this,"adapter"));AS3.setBindable(dynamicMessage,"message",message);this.target$O$hK.add(dynamicMessage);
if(this.loadMask&&!this.loadMask.destroyed){this.loadMask.el.dom["children"][1].setAttribute("style","background: transparent;");this.loadMask["messagesCount"]++;AS3.setBindable(this.loadMask,"progress",this.loadMask["messagesCount"]/this.loadMask["messagesLength"]);if(AS3.getBindable(this.loadMask,"progress","DUMMY")===1){this.loadMask.hide();this.loadMask.destroy();this.activeItemExpression.setValue(com.coremedia.blueprint.social.channels.ChannelContainerBase.MESSAGE_WRAPPER_ITEM_ID);this.target$O$hK.up().updateLayout()}}}
function renderDate(message){var value=this.getDateLabel$O$hK(message);if(value!==null){var conf={value:value,ui:null,style:"margin-left: 4px; font-size: 22px;margin-top: 12px;margin-bottom: 12px;"};var field=new Ext.form.field.Display(AS3.cast(Ext.form.field.Display,conf));this.target$O$hK.add(field)}}function getDateLabel(message){var publicationDate=message.getPublicationDate();if(!publicationDate)return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","message_footer_scheduled_now");
var value=this.getWeekday$O$hK(publicationDate)+", "+Ext.Date.format(publicationDate,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","shortDateFormat"));if(com.coremedia.cms.editor.sdk.util.TimeUtil.isToday(publicationDate))value=this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channel_queue_today");if(value!==this.lastDateString$O$hK){this.lastDateString$O$hK=value;return this.lastDateString$O$hK}return null}function getEmptyLabel(msgType){if(msgType===
com.coremedia.blueprint.social.beans.SocialHubPropertyNames.ADAPTER_SCHEDULED_MESSAGES)return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channel_empty_scheduled");return this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channel_empty_history")}function getWeekday(date){var weekdays=new Array(7);weekdays[0]="Sunday";weekdays[1]="Monday";weekdays[2]="Tuesday";weekdays[3]="Wednesday";weekdays[4]="Thursday";weekdays[5]="Friday";weekdays[6]="Saturday";
return weekdays[date.getDay()]}return{extend:"Ext.container.Container",loadMask:null,activeItemExpression:null,target$O$hK:null,lastDateString$O$hK:null,constructor:MessagesContainerBase$,super$O$hK:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,reload:reload,clear:clear,loadMessages$O$hK:loadMessages,invalidateMessages$O$hK:invalidateMessages,loadMsgs$O$hK:loadMsgs,loadMessage$O$hK:loadMessage,renderDate$O$hK:renderDate,getDateLabel$O$hK:getDateLabel,
getEmptyLabel:getEmptyLabel,getWeekday$O$hK:getWeekday,config:{adapter:null,messageType:null},requires:["Ext.Date","Ext.container.Container","Ext.form.field.Display","com.coremedia.cms.editor.sdk.util.TimeUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.social.beans.SocialHubPropertyNames","com.coremedia.blueprint.social.channels.ChannelContainerBase","com.coremedia.blueprint.social.messages.DynamicMessageContainer",
"com.coremedia.blueprint.social.messages.MessagesContainer"]}});Ext.define("com.coremedia.blueprint.social.messages.TextDisplayField",function(TextDisplayField){function TextDisplayField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.messages.MessageDisplayFieldBase,{});var defaults_$1=AS3.cast(TextDisplayField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"style",com.coremedia.blueprint.social.CustomStyles.MESSAGE_DISPLAY_FIELD);var displayField_21_5_$1=AS3.cast(Ext.form.field.Display,
{});AS3.setBindable(displayField_21_5_$1,"value",this.localizeFieldName(AS3.getBindable(config,"messageContainerDescriptor").getPropertyName()));AS3.setBindable(displayField_21_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TITLE);displayField_21_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindVisibilityPlugin_24_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_24_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,
"messageContainerDescriptor").showLabel());displayField_21_5_$1.plugins=[ui_BindVisibilityPlugin_24_9_$1];var displayField_28_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_28_5_$1,"style",com.coremedia.blueprint.social.CustomStyles.READONLY_TEXT);displayField_28_5_$1.ui=net.jangaroo.ext.Exml.asString(null);var ui_BindPropertyPlugin_30_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_30_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;
ui_BindPropertyPlugin_30_9_$1.bindTo=AS3.getBindable(config,"bindTo");displayField_28_5_$1.plugins=[ui_BindPropertyPlugin_30_9_$1];config_$1.items=[displayField_21_5_$1,displayField_28_5_$1];var ui_VerticalSpacingPlugin_36_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_36_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_25);config_$1.plugins=[ui_VerticalSpacingPlugin_36_5_$1];var layout_VBox_39_5_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_39_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_39_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$b_IN(config_$1)}return{extend:"com.coremedia.blueprint.social.messages.MessageDisplayFieldBase",alias:"widget.com.coremedia.blueprint.social.studio.config.message.field.text",constructor:TextDisplayField$,super$b_IN:function(){com.coremedia.blueprint.social.messages.MessageDisplayFieldBase.prototype.constructor.apply(this,arguments)},
requires:["Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.blueprint.social.messages.MessageDisplayFieldBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.CustomStyles"]}});Ext.define("com.coremedia.blueprint.social.scheduler.SchedulerContainer",function(SchedulerContainer){function SchedulerContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.scheduler.SchedulerContainerBase,{});var defaults_$1=AS3.cast(SchedulerContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var container_17_5_$1=AS3.cast(Ext.container.Container,{});var ui_CustomizableDatePicker_19_9_$1=AS3.cast(com.coremedia.ui.components.CustomizableDatePicker,
{});ui_CustomizableDatePicker_19_9_$1.showToday=false;ui_CustomizableDatePicker_19_9_$1.scrollOnTopBar=true;ui_CustomizableDatePicker_19_9_$1.flex=1;AS3.setBindable(ui_CustomizableDatePicker_19_9_$1,"modifiersForDate",AS3.bind(this,"calculateModifiersForDate"));AS3.setBindable(ui_CustomizableDatePicker_19_9_$1,"selectedDateVE",this.getSelectedDateVE());var ui_CustomizableDatePicker_24_9_$1=AS3.cast(com.coremedia.ui.components.CustomizableDatePicker,{});ui_CustomizableDatePicker_24_9_$1.showToday=
false;ui_CustomizableDatePicker_24_9_$1.scrollOnTopBar=true;ui_CustomizableDatePicker_24_9_$1.flex=1;AS3.setBindable(ui_CustomizableDatePicker_24_9_$1,"modifiersForDate",AS3.bind(this,"calculateModifiersForDate"));AS3.setBindable(ui_CustomizableDatePicker_24_9_$1,"selectedDateVE",this.getSelectedDateVE());container_17_5_$1.items=[ui_CustomizableDatePicker_19_9_$1,ui_CustomizableDatePicker_24_9_$1];var ui_HorizontalSpacingPlugin_31_9_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});
AS3.setBindable(ui_HorizontalSpacingPlugin_31_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);container_17_5_$1.plugins=[ui_HorizontalSpacingPlugin_31_9_$1];var layout_HBox_34_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_34_9_$1,"align","stretch");AS3.setBindable(container_17_5_$1,"layout",layout_HBox_34_9_$1);config_$1.items=[container_17_5_$1];var layout_VBox_39_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_39_5_$1,
"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_39_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$u8z9(config_$1)}return{extend:"com.coremedia.blueprint.social.scheduler.SchedulerContainerBase",alias:"widget.com.coremedia.blueprint.social.studio.config.schedulerContainer",constructor:SchedulerContainer$,super$u8z9:function(){com.coremedia.blueprint.social.scheduler.SchedulerContainerBase.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container",
"Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.blueprint.social.scheduler.SchedulerContainerBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.CustomizableDatePicker","com.coremedia.ui.plugins.HorizontalSpacingPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.social.scheduler.SchedulerContainerBase",function(SchedulerContainerBase){function SchedulerContainerBase$(config){if(arguments.length<=0)config=null;this.super$9Jsw(config)}function getSelectedDateVE(){if(!this.selectedDateVE$9Jsw)this.selectedDateVE$9Jsw=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.selectedDateVE$9Jsw}function calculateModifiersForDate(date){var modifiers=[];return modifiers}return{extend:"Ext.container.Container",
selectedDateVE$9Jsw:null,constructor:SchedulerContainerBase$,super$9Jsw:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getSelectedDateVE:getSelectedDateVE,calculateModifiersForDate:calculateModifiersForDate,requires:["Ext.container.Container","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.social.SocialHubMainTab",function(SocialHubMainTab){function SocialHubMainTab$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.SocialHubMainTabBase,{});var defaults_$1=AS3.cast(SocialHubMainTab,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","menu_title_text"));AS3.setBindable(config_$1,"closable",
true);config_$1["id"]=com.coremedia.blueprint.social.SocialHubMainTabBase.ID;AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","social_hub")));config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.SocialHubMainTabBase.ID);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.EMBEDDED.getSkin());var ui_SwitchingContainer_32_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,
{});AS3.setBindable(ui_SwitchingContainer_32_5_$1,"activeItemValueExpression",this.getActiveItemExpression());var panel_34_9_$1=AS3.cast(Ext.panel.Panel,{});panel_34_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.SocialHubMainTabBase.LOADER_ITEM_ID);var panel_35_9_$1=AS3.cast(Ext.panel.Panel,{});panel_35_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.SocialHubMainTabBase.EMPTY_ITEM_ID);var displayField_37_13_$1=AS3.cast(Ext.form.field.Display,
{});displayField_37_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.EMBEDDED.getSkin());AS3.setBindable(displayField_37_13_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.social.SocialHub","channels_empty"));panel_35_9_$1.items=[displayField_37_13_$1];var layout_VBox_41_13_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_41_13_$1,"align","middle");AS3.setBindable(layout_VBox_41_13_$1,"pack","center");AS3.setBindable(panel_35_9_$1,
"layout",layout_VBox_41_13_$1);var channels_ChannelsContainer_44_9_$1=AS3.cast(com.coremedia.blueprint.social.channels.ChannelsContainer,{});channels_ChannelsContainer_44_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.social.SocialHubMainTabBase.CHANNELS_ITEM_ID);AS3.setBindable(channels_ChannelsContainer_44_9_$1,"adaptersExpression",this.getAdaptersExpression());ui_SwitchingContainer_32_5_$1.items=[panel_34_9_$1,panel_35_9_$1,channels_ChannelsContainer_44_9_$1];var layout_Card_47_9_$1=
AS3.cast(Ext.layout.container.Card,{});layout_Card_47_9_$1.deferredRender=false;AS3.setBindable(ui_SwitchingContainer_32_5_$1,"layout",layout_Card_47_9_$1);config_$1.items=[ui_SwitchingContainer_32_5_$1];var layout_Fit_53_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_53_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_tZa(config_$1)}return{extend:"com.coremedia.blueprint.social.SocialHubMainTabBase",alias:"widget.com.coremedia.blueprint.social.studio.config.socialNetworksMainTab",
constructor:SocialHubMainTab$,super$_tZa:function(){com.coremedia.blueprint.social.SocialHubMainTabBase.prototype.constructor.apply(this,arguments)},requires:["Ext.form.field.Display","Ext.layout.container.Card","Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.panel.Panel","com.coremedia.blueprint.social.SocialHubMainTabBase","com.coremedia.blueprint.social.SocialHub_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.skins.DisplayFieldSkin",
"com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.channels.ChannelsContainer"]}});Ext.define("com.coremedia.blueprint.social.SocialHubMainTabBase",function(SocialHubMainTabBase){function adapters_(){this.adapters$A_7L=[]}function SocialHubMainTabBase$(config){if(arguments.length<=0)config=null;this.super$A_7L(config);adapters_.call(this)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);var adapterExpre=com.coremedia.blueprint.social.socialHubService.getAdaptersExpression();com.coremedia.blueprint.social.socialHubService.getAdaptersExpression().addChangeListener(AS3.bind(this,
"adaptersChanged$A_7L"));this.adaptersChanged$A_7L(adapterExpre)}function adaptersChanged(adaptersExpression){var this$=this;var loadMaskConfig=AS3.cast(com.coremedia.ui.components.ProgressLoadMask,{});AS3.setBindable(loadMaskConfig,"style","{position: relative; height: 200px; width: 200px; position: absolute; left: 50%; margin-left: -100px; top: 40%; margin-top: -100px;}");loadMaskConfig.msg="";loadMaskConfig.target=this.queryById(SocialHubMainTabBase.LOADER_ITEM_ID);this.loadMask$A_7L=new com.coremedia.ui.components.ProgressLoadMask(loadMaskConfig);
this.loadMask$A_7L.show();AS3.setBindable(this.loadMask$A_7L,"progress",0);this.getActiveItemExpression().setValue(SocialHubMainTabBase.LOADER_ITEM_ID);com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.loadAdapters$A_7L(adaptersExpression)})}function loadAdapters(adaptersExpression){var this$=this;this.adapterCount$A_7L=0;this.adapters$A_7L=[];var adaptersBean=adaptersExpression.getValue();if(!adaptersBean)this.loadAdapterList$A_7L([]);else adaptersBean.load(function(){this$.adapters$A_7L=
adaptersBean.getAdapters();this$.loadAdapterList$A_7L(this$.adapters$A_7L)})}function loadAdapterList(adapters){var this$=this;if(adapters.length===0){this.loadMask$A_7L.destroy();this.getActiveItemExpression().setValue(SocialHubMainTabBase.EMPTY_ITEM_ID)}for(var $1=0;$1<adapters.length;++$1){var a=adapters[$1];a.load(function(){this$.adapterCount$A_7L++;var progress=this$.adapterCount$A_7L/adapters.length;AS3.setBindable(this$.loadMask$A_7L,"progress",progress);if(progress===1){this$.getAdaptersExpression().setValue(adapters);
window.setTimeout(function(){this$.loadMask$A_7L.destroy();this$.getActiveItemExpression().setValue(SocialHubMainTabBase.CHANNELS_ITEM_ID)},500)}})}}function getActiveItemExpression(){if(!this.activeItemExpression$A_7L)this.activeItemExpression$A_7L=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(SocialHubMainTabBase.LOADER_ITEM_ID);return this.activeItemExpression$A_7L}function getAdaptersExpression(){if(!this.adaptersExpression$A_7L)this.adaptersExpression$A_7L=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);
return this.adaptersExpression$A_7L}function onHide(animateTarget,callback,scope){switch(Math.max(arguments.length,1)){case 1:callback=null;case 2:scope=null}com.coremedia.blueprint.social.composer.ComposerBase.closeAll();Ext.panel.Panel.prototype.onHide.call(this,animateTarget,callback,scope)}function onDestroy(){com.coremedia.blueprint.social.socialHubService.getAdaptersExpression().removeChangeListener(AS3.bind(this,"adaptersChanged$A_7L"));com.coremedia.blueprint.social.composer.ComposerBase.closeAll();
Ext.panel.Panel.prototype.onDestroy.call(this)}return{extend:"Ext.panel.Panel",adapterCount$A_7L:0,loadMask$A_7L:null,adaptersExpression$A_7L:null,activeItemExpression$A_7L:null,constructor:SocialHubMainTabBase$,super$A_7L:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,adaptersChanged$A_7L:adaptersChanged,loadAdapters$A_7L:loadAdapters,loadAdapterList$A_7L:loadAdapterList,getActiveItemExpression:getActiveItemExpression,getAdaptersExpression:getAdaptersExpression,
onHide:onHide,onDestroy:onDestroy,statics:{ID:"cm-social-hub-main-tab",LOADER_ITEM_ID:"loader",EMPTY_ITEM_ID:"empty",CHANNELS_ITEM_ID:"channels"},requires:["Ext.panel.Panel","com.coremedia.ui.components.ProgressLoadMask","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.blueprint.social.composer.ComposerBase","com.coremedia.blueprint.social.socialHubService"]}});Ext.define("com.coremedia.blueprint.social.socialHubService",function(socialHubService){function socialHubService_(){return new com.coremedia.blueprint.social.SocialHubServiceImpl}return{__factory__:socialHubService_,requires:["com.coremedia.blueprint.social.SocialHubServiceImpl"]}});Ext.define("com.coremedia.blueprint.social.SocialHubServiceImpl",function(SocialHubServiceImpl){function getAdaptersExpression(){if(!this.hubExpression$cLGz)this.hubExpression$cLGz=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var siteService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var preferredSite=siteService.getPreferredSite();if(preferredSite)return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean("socialhub/adapters/"+preferredSite.getId()),
com.coremedia.blueprint.social.beans.SocialHubAdaptersImpl);return null});return this.hubExpression$cLGz}function getMediaType(content){var blobProperty=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHubSettings","social_hub_content_blob_property");var blob=content.getProperties().get(blobProperty);if(blob){if(!blob.isLoaded()){blob.loadData();return undefined}var contentType=blob.getContentType();if(contentType.indexOf(com.coremedia.blueprint.social.beans.MediaItem.TYPE_IMAGE)!==
-1)return com.coremedia.blueprint.social.beans.MediaItem.TYPE_IMAGE;if(contentType.indexOf(com.coremedia.blueprint.social.beans.MediaItem.TYPE_VIDEO)!==-1)return com.coremedia.blueprint.social.beans.MediaItem.TYPE_VIDEO}return null}function getComposerModel(adapterId){var uriPath=com.coremedia.cap.common.SESSION.getUser().getUriPath();var userId=uriPath.substr(uriPath.lastIndexOf("/")+1,uriPath.length);var model=AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean("socialhub/composermodel/"+userId+
"/"+adapterId),com.coremedia.blueprint.social.beans.ComposerModelImpl);if(!model.isLoaded())model.load();return model}function initComposerModel(adapterId,contents,callback){var this$=this;var uriPath=com.coremedia.cap.common.SESSION.getUser().getUriPath();var userId=uriPath.substr(uriPath.lastIndexOf("/")+1,uriPath.length);var contentIds=[];for(var $1=0;$1<contents.length;++$1){var c=contents[$1];contentIds.push(com.coremedia.cap.common.IdHelper.parseContentId(c))}var idParam=contentIds.join(",");
var method=new com.coremedia.ui.data.impl.RemoteServiceMethod("socialhub/composermodel/"+userId+"/"+adapterId+"/compose","POST");method.request({"contentIds":idParam},function(response){var result=response.response.responseText;var cm=AS3.as(this$.getComposerModel(adapterId),com.coremedia.blueprint.social.beans.ComposerModelImpl);cm.invalidate(callback)},function(response){callback(response.getError())})}function SocialHubServiceImpl$(){}return{mixins:["com.coremedia.blueprint.social.ISocialHubService"],
hubExpression$cLGz:null,getAdaptersExpression:getAdaptersExpression,getMediaType:getMediaType,getComposerModel:getComposerModel,initComposerModel:initComposerModel,constructor:SocialHubServiceImpl$,requires:["com.coremedia.blueprint.social.ISocialHubService","com.coremedia.cap.common.IdHelper","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteServiceMethod",
"mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.social.beans.ComposerModelImpl","com.coremedia.blueprint.social.beans.MediaItem","com.coremedia.blueprint.social.beans.SocialHubAdaptersImpl"]}});Ext.define("com.coremedia.blueprint.social.SocialHubStudioPlugin",function(SocialHubStudioPlugin){function SocialHubStudioPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.social.SocialHubStudioPluginBase,{});var defaults_$1=AS3.cast(SocialHubStudioPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_ExtensionsMenuToolbar_24_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuToolbar,{});var ui_AddItemsPlugin_26_9_$1=
AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var container_28_13_$1=AS3.cast(Ext.container.Container,{});var button_30_17_$1=AS3.cast(Ext.button.Button,{});button_30_17_$1.itemId="socialHubButton";AS3.setBindable(button_30_17_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub","menu_title_tooltip"));AS3.setBindable(button_30_17_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"social_hub")));AS3.setBindable(button_30_17_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.social.SocialHub","menu_title_text")));var editor_OpenTabAction_35_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenTabAction,{});AS3.setBindable(editor_OpenTabAction_35_21_$1,"singleton",true);var social_SocialHubMainTab_37_25_$1=AS3.cast(com.coremedia.blueprint.social.SocialHubMainTab,{});AS3.setBindable(editor_OpenTabAction_35_21_$1,
"tab",social_SocialHubMainTab_37_25_$1);button_30_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenTabAction(editor_OpenTabAction_35_21_$1);container_28_13_$1.items=[button_30_17_$1];AS3.setBindable(ui_AddItemsPlugin_26_9_$1,"containers",[container_28_13_$1]);editor_ExtensionsMenuToolbar_24_5_$1.plugins=[ui_AddItemsPlugin_26_9_$1];AS3.setBindable(config_$1,"rules",[editor_ExtensionsMenuToolbar_24_5_$1]);var editor_RegisterRestResource_52_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,
{});AS3.setBindable(editor_RegisterRestResource_52_5_$1,"beanClass",com.coremedia.blueprint.social.beans.SocialHubAdapterImpl);var editor_RegisterRestResource_53_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_53_5_$1,"beanClass",com.coremedia.blueprint.social.beans.SocialHubAdaptersImpl);var editor_RegisterRestResource_54_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_54_5_$1,
"beanClass",com.coremedia.blueprint.social.beans.MessageImpl);var editor_RegisterRestResource_55_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_55_5_$1,"beanClass",com.coremedia.blueprint.social.beans.ComposerModelImpl);var editor_CopyResourceBundleProperties_58_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.CopyResourceBundleProperties,{});AS3.setBindable(editor_CopyResourceBundleProperties_58_5_$1,"destination",mx.resources.ResourceManager.getInstance().getResourceBundle(null,
"com.coremedia.cms.editor.ContentTypes"));AS3.setBindable(editor_CopyResourceBundleProperties_58_5_$1,"source",mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.blueprint.social.SocialHubComposerProperties"));AS3.setBindable(config_$1,"configuration",[new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_52_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_53_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_54_5_$1),
new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_55_5_$1),new com.coremedia.cms.editor.configuration.CopyResourceBundleProperties(editor_CopyResourceBundleProperties_58_5_$1)]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wUlX(config_$1)}return{extend:"com.coremedia.blueprint.social.SocialHubStudioPluginBase",constructor:SocialHubStudioPlugin$,super$wUlX:function(){com.coremedia.blueprint.social.SocialHubStudioPluginBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.button.Button","Ext.container.Container","com.coremedia.blueprint.social.SocialHubStudioPluginBase","com.coremedia.cms.editor.configuration.CopyResourceBundleProperties","com.coremedia.cms.editor.configuration.RegisterRestResource","com.coremedia.cms.editor.sdk.actions.OpenTabAction","com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuToolbar","com.coremedia.ui.plugins.AddItemsPlugin","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.social.SocialHubMainTab",
"com.coremedia.blueprint.social.beans.ComposerModelImpl","com.coremedia.blueprint.social.beans.MessageImpl","com.coremedia.blueprint.social.beans.SocialHubAdapterImpl","com.coremedia.blueprint.social.beans.SocialHubAdaptersImpl"]}});Ext.define("com.coremedia.blueprint.social.SocialHubStudioPluginBase",function(SocialHubStudioPluginBase){function SocialHubStudioPluginBase$(config){if(arguments.length<=0)config=null;this.super$VevI(config)}function init(editorContext){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.init.call(this,editorContext)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",constructor:SocialHubStudioPluginBase$,super$VevI:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,
arguments)},init:init,requires:["com.coremedia.cms.editor.configuration.StudioPlugin"]}});Ext.define("com.coremedia.blueprint.social.SocialHubComposerProperties_properties",{"ComposerModel_publicationDate_text":"Scheduled Date"},function(){com.coremedia.blueprint.social.SocialHubComposerProperties_properties.INSTANCE=new com.coremedia.blueprint.social.SocialHubComposerProperties_properties});Ext.define("com.coremedia.blueprint.social.SocialHubSettings_properties",{"social_hub_content_blob_property":"data","social_hub_content_upload_path":"Editorial"},function(){com.coremedia.blueprint.social.SocialHubSettings_properties.INSTANCE=new com.coremedia.blueprint.social.SocialHubSettings_properties});Ext.define("com.coremedia.blueprint.social.SocialHub_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"menu_title_text":"Social Hub","menu_title_tooltip":"Social Hub","channels_empty":"No social networks configured yet.","channel_history_title":"Past Posts","channel_History_extern_title":"Past Posts","channel_queue_title":"Scheduled","channels_loading":"Loading Channels...","messages_loading":"Loading Posts...","message_loading":"Loading Post...","channel_empty_scheduled":"There are no posts scheduled.",
"channel_empty_history":"There are no past posts yet.","channel_reload":"Reload messages","channel_queue_subtitle":"The following parts will be published at the specific time","channel_queue_today":"Today","change_color":"Choose toolbar color","overview_title":"Overview","twitter_title":"Twitter","facebook_title":"Facebook","pinterest_title":"Pinterest","youtube_title":"YouTube","instagram_title":"Instagram","linkedin_title":"LinkedIn","facelift_title":"Facelift","delete_post_title":"Cancel Post",
"delete_post_msg":"Cancel the scheduled post?","social_hub_channels_loading":"Loading Adapters...","social_hub_messages_loading":"Loading Messages...","create_message":"Create a new post","post_button_text":"Create","schedule_button_text":"Schedule","cancel_button_text":"Cancel","delete_attachment_text":"Remove attachment","visibility_text":"Visibility","visibility_public":"Public","visibility_notListed":"Not listed","visibility_private":"Private","composer_title":"New Post for {0}","message_property_briefing":"Briefing",
"message_property_briefing_emptyText":"Enter a short hint for the editor here.","message_property_title":"Title","message_property_title_emptyText":"Enter a message title here.","message_property_description":"Description","message_property_description_emptyText":"Enter the message text here.","message_property_text":"Text","message_property_text_emptyText":"Enter the message text here.","message_property_assets":"Media","message_property_assets_emptyText":"Select media items for this post.","message_property_pictures":"Pictures",
"message_property_pictures_emptyText":"Select pictures for this post.","message_property_images":"Images","message_property_images_emptyText":"Select images for this post.","message_property_video":"Video","message_property_video_emptyText":"Select a video for this post.","message_property_picture":"Picture","message_property_picture_emptyText":"Select a picture for this post.","message_property_visibility":"Visibility","message_property_visibility_private":"Private","message_property_visibility_public":"Public",
"message_property_visibility_unlisted":"Not Listed","message_property_visibility_restricted":"Restricted","message_property_visibility_emptyText":"Select the visibility for this post.","message_property_boards":"Board","message_property_privacy":"Privacy","message_property_privacy_private":"Private","message_property_privacy_public":"Public","message_property_privacy_unlisted":"Not Listed","message_property_privacy_restricted":"Restricted","message_property_privacy_emptyText":"Select the privacy setting for this post.",
"message_property_emptyText":"Enter a value here.","messsage_property_error":"Errors","messsage_property_error_empty_text":'• Field "\x3cb\x3e{0}\x3c/b\x3e" is empty.',"messsage_property_error_noValue_text":'• No value selected for field "\x3cb\x3e{0}\x3c/b\x3e".',"messsage_property_error_noMedia_text":'• No media selected for field "\x3cb\x3e{0}\x3c/b\x3e".',"message_footer_scheduled_date":"Scheduled Date","message_footer_publication_date":"Publication Date","message_footer_scheduled_now":"Right Now",
"external_link_dialog_title":"External Link","external_link_dialog_url_text":"URL","external_link_dialog_shorten_text":"Short URL","upload_button_text":"Upload File...","upload_area_text":"Drop content from the Library or files from your file system here.","upload_area_text_hint":"New files will be uploaded to Studio's library.","likeCount_twitter_text":"Likes","shareCount_twitter_text":"Retweets","likeCount_youtube_text":"Likes","dislikeCount_youtube_text":"Dislikes","commentCount_youtube_text":"Comments",
"viewCount_youtube_text":"Views"},function(){this.prototype["twitter"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.twitter;this.prototype["facebook"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.facebook;this.prototype["pinterest"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pinterest;this.prototype["youtube"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.youtube_channel_youtube_video;this.prototype["instagram"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.instagram;this.prototype["linkedin"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.linkedin;this.prototype["facelift"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.dam_1;this.prototype["likeCount_twitter_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.status_like;this.prototype["shareCount_twitter_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.status_retweets;this.prototype["likeCount_youtube_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.status_like;this.prototype["dislikeCount_youtube_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.move_down;
this.prototype["commentCount_youtube_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.status_comment;this.prototype["viewCount_youtube_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.view_menu;com.coremedia.blueprint.social.SocialHub_properties.INSTANCE=new com.coremedia.blueprint.social.SocialHub_properties});
//# sourceMappingURL=com.coremedia.blueprint__social-hub-studio.js.map
